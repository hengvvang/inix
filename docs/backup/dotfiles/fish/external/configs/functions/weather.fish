# ============================================================================
# 天气查询函数
# ============================================================================
# 使用 wttr.in 服务查询天气信息
# 用法: weather [城市名称]

function weather --description "查询天气信息"
    if test (count $argv) -eq 0
        # 如果没有提供城市名称，查询当前位置天气
        curl -s "wttr.in/?format=3"
    else
        # 查询指定城市天气
        curl -s "wttr.in/$argv[1]?format=3"
    end
end
