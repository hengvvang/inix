# Stylix å¯¹ç§°é…ç½®æ¶æ„è®¾è®¡

## ğŸ¯ è®¾è®¡ç†å¿µ

è¿™ä¸ªå¯¹ç§°é…ç½®æ¶æ„å®ç°äº† `system/profiles/*` å’Œ `home/profiles/*` çš„å®Œç¾å¯¹ç§°è®¾è®¡ï¼Œå…¶ä¸­ï¼š

- **ç³»ç»Ÿçº§é…ç½®** (`system/profiles/stylix`) - ä¸ºæ‰€æœ‰ç”¨æˆ·æä¾›åŸºç¡€é…ç½®
- **ç”¨æˆ·çº§é…ç½®** (`home/profiles/stylix`) - ç”¨æˆ·ä¸ªæ€§åŒ–é…ç½®ï¼Œå¯è¦†ç›–ç³»ç»Ÿé»˜è®¤å€¼

## ğŸ“ ç›®å½•ç»“æ„å¯¹æ¯”

```
system/profiles/stylix/          home/profiles/stylix/
â”œâ”€â”€ default.nix          â†â†’     â”œâ”€â”€ default.nix
â”œâ”€â”€ wallpapers.nix       â†â†’     â”œâ”€â”€ wallpapers.nix  
â”œâ”€â”€ fonts.nix            â†â†’     â”œâ”€â”€ fonts.nix
â”œâ”€â”€ targets.nix          â†â†’     â”œâ”€â”€ targets.nix
â””â”€â”€ wallpapers/          â†â†’     â””â”€â”€ wallpapers/
    (è½¯é“¾æ¥åˆ° home ç‰ˆæœ¬)          (å®é™…å£çº¸æ–‡ä»¶)
```

## ğŸ”„ è¦†ç›–æœºåˆ¶

### ä¼˜å…ˆçº§æ’åº
1. **ç”¨æˆ·é…ç½®** (æœ€é«˜ä¼˜å…ˆçº§)
2. **ç³»ç»Ÿé…ç½®** (ä¸­ç­‰ä¼˜å…ˆçº§)  
3. **Stylix é»˜è®¤** (æœ€ä½ä¼˜å…ˆçº§)

### é…ç½®ç»§æ‰¿ä¸è¦†ç›–ç¤ºä¾‹

```nix
# ç³»ç»Ÿçº§é…ç½® (system/profiles/stylix)
mySystem.profiles.stylix = {
  enable = true;
  polarity = "dark";                    # ç³»ç»Ÿé»˜è®¤æš—è‰²
  fonts.sizes.terminal = 12;            # ç³»ç»Ÿé»˜è®¤ç»ˆç«¯å­—ä½“å¤§å°
  targets.userDefaults.firefox.enable = true;  # ç³»ç»Ÿé»˜è®¤å¯ç”¨ Firefox ä¸»é¢˜
};

# ç”¨æˆ·çº§é…ç½® (home/profiles/stylix)  
myHome.profiles.stylix = {
  enable = true;
  polarity = "light";                   # âœ… è¦†ç›–: ç”¨æˆ·åå¥½äº®è‰²ä¸»é¢˜
  fonts.sizes.terminal = 14;            # âœ… è¦†ç›–: ç”¨æˆ·åå¥½å¤§å­—ä½“
  # firefox æ²¿ç”¨ç³»ç»Ÿé…ç½® (enable = true)
  targets.terminals.alacritty.enable = false;  # âœ… è¦†ç›–: ç”¨æˆ·ç¦ç”¨ Alacritty ä¸»é¢˜
};

# æœ€ç»ˆç”Ÿæ•ˆé…ç½®
stylix = {
  polarity = "light";                   # æ¥è‡ªç”¨æˆ·é…ç½®
  fonts.sizes.terminal = 14;            # æ¥è‡ªç”¨æˆ·é…ç½®
  targets = {
    firefox.enable = true;              # æ¥è‡ªç³»ç»Ÿé…ç½®
    alacritty.enable = false;           # æ¥è‡ªç”¨æˆ·é…ç½®
  };
};
```

## ğŸ›ï¸ ç³»ç»Ÿçº§é…ç½®èŒè´£

### åŸºç¡€è®¾æ–½ç»„ä»¶
- âœ… GRUB å¼•å¯¼ä¸»é¢˜
- âœ… Plymouth å¯åŠ¨ç”»é¢
- âœ… GDM/LightDM/SDDM ç™»å½•ç•Œé¢
- âœ… ç³»ç»Ÿçº§ GTK/Qt ä¸»é¢˜
- âœ… ç³»ç»Ÿé»˜è®¤å­—ä½“é…ç½®

### ç”¨æˆ·åº”ç”¨é»˜è®¤å€¼
- âœ… ä¸ºç”¨æˆ·åº”ç”¨æä¾›åˆç†çš„é»˜è®¤é…ç½®
- âœ… ç”¨æˆ·å¯ä»¥é€‰æ‹©æ€§è¦†ç›–è¿™äº›é»˜è®¤å€¼

## ğŸ  ç”¨æˆ·çº§é…ç½®èŒè´£

### ä¸ªæ€§åŒ–è®¾ç½®
- âœ… ç”¨æˆ·åå¥½çš„å£çº¸å’Œä¸»é¢˜ææ€§
- âœ… ä¸ªäººå­—ä½“åå¥½å’Œå¤§å°è°ƒæ•´
- âœ… åº”ç”¨ç¨‹åºä¸»é¢˜çš„ç²¾ç»†æ§åˆ¶

### åº”ç”¨ç¨‹åºä¸»é¢˜
- âœ… ç»ˆç«¯ (Alacritty, Kitty)
- âœ… ç¼–è¾‘å™¨ (Vim, Neovim)
- âœ… å·¥å…· (Tmux, Bat, Fzf)
- âœ… æµè§ˆå™¨ (Firefox)
- âœ… è¾“å…¥æ³• (Fcitx5)

## ğŸ“ é…ç½®ç¤ºä¾‹

### ä¸»æœºé…ç½® (hosts/laptop/system.nix)
```nix
mySystem.profiles.stylix = {
  enable = true;
  polarity = "dark";
  wallpapers = {
    enable = true;
    preset = "sea";
  };
  targets = {
    enable = true;
    boot.grub.enable = true;
    display.gdm.enable = true;
    desktop.gtk.enable = true;
    userDefaults = {
      terminals.alacritty.enable = true;
      browsers.firefox.enable = true;
    };
  };
};
```

### ç”¨æˆ·é…ç½® (users/hengvvang/laptop.nix)
```nix
profiles.stylix = {
  enable = true;
  # polarity = "dark";  # æ²¿ç”¨ç³»ç»Ÿé…ç½®
  wallpapers = {
    enable = true;
    custom = ./wallpapers/personal.jpg;  # è¦†ç›–ç³»ç»Ÿå£çº¸
  };
  targets = {
    enable = true;
    terminals.alacritty.enable = false;  # è¦†ç›–ç³»ç»Ÿé»˜è®¤ï¼Œé¿å…å†²çª
    browsers.firefox.enable = true;      # æ²¿ç”¨ç³»ç»Ÿé»˜è®¤
    inputMethods.fcitx5.enable = true;   # ç”¨æˆ·é¢å¤–å¯ç”¨
  };
};
```

## ğŸ”§ å®é™…åº”ç”¨åœºæ™¯

### 1. å¤šç”¨æˆ·ç¯å¢ƒ
```
ç”¨æˆ· hengvvang:
â”œâ”€â”€ ç³»ç»Ÿ: æš—è‰²ä¸»é¢˜ + ç³»ç»Ÿå£çº¸ + åŸºç¡€å­—ä½“
â””â”€â”€ ä¸ªäºº: è‡ªå®šä¹‰å£çº¸ + å¤§å­—ä½“ + å®Œæ•´åº”ç”¨ä¸»é¢˜

ç”¨æˆ· zlritsu:  
â”œâ”€â”€ ç³»ç»Ÿ: æš—è‰²ä¸»é¢˜ + ç³»ç»Ÿå£çº¸ + åŸºç¡€å­—ä½“  (ç›¸åŒåŸºç¡€)
â””â”€â”€ ä¸ªäºº: äº®è‰²ä¸»é¢˜ + ç³»ç»Ÿå£çº¸ + æœ€å°åº”ç”¨ä¸»é¢˜  (ä¸åŒåå¥½)
```

### 2. å¤šä¸»æœºé…ç½®
```
laptop ä¸»æœº:
â”œâ”€â”€ ç³»ç»Ÿ: å®Œæ•´æ¡Œé¢ç¯å¢ƒ + å¼€å‘å·¥å…·é»˜è®¤ä¸»é¢˜
â””â”€â”€ ç”¨æˆ·: å¼€å‘ä¼˜åŒ–é…ç½®

work ä¸»æœº:
â”œâ”€â”€ ç³»ç»Ÿ: ç®€åŒ–æ¡Œé¢ + åŠå…¬è½¯ä»¶é»˜è®¤ä¸»é¢˜  
â””â”€â”€ ç”¨æˆ·: åŠå…¬ä¼˜åŒ–é…ç½®
```

## âœ¨ è®¾è®¡ä¼˜åŠ¿

### 1. **é…ç½®ä¸€è‡´æ€§**
- ç³»ç»Ÿå’Œç”¨æˆ·é…ç½®é€‰é¡¹ç»“æ„å®Œå…¨å¯¹ç§°
- å‡å°‘å­¦ä¹ æˆæœ¬å’Œé…ç½®é”™è¯¯

### 2. **çµæ´»çš„è¦†ç›–**
- ç”¨æˆ·å¯ä»¥é€‰æ‹©æ€§è¦†ç›–ä»»ä½•ç³»ç»Ÿé»˜è®¤å€¼
- æœªé…ç½®çš„é€‰é¡¹è‡ªåŠ¨ç»§æ‰¿ç³»ç»Ÿé…ç½®

### 3. **ç»´æŠ¤ç®€ä¾¿æ€§**
- ç³»ç»Ÿç®¡ç†å‘˜ç»´æŠ¤åŸºç¡€é…ç½®
- ç”¨æˆ·ä¸“æ³¨äºä¸ªæ€§åŒ–è®¾ç½®
- é…ç½®é€»è¾‘æ¸…æ™°ï¼Œæ˜“äºè°ƒè¯•

### 4. **å¯æ‰©å±•æ€§**
- æ–°ç”¨æˆ·è‡ªåŠ¨è·å¾—åˆç†é»˜è®¤é…ç½®
- æ–°ä¸»æœºå¯ä»¥å®šä¹‰ä¸åŒçš„ç³»ç»Ÿçº§é…ç½®
- æ”¯æŒæœªæ¥æ·»åŠ æ›´å¤šé…ç½®é€‰é¡¹

## ğŸš€ æœ€ä½³å®è·µ

1. **ç³»ç»Ÿçº§é…ç½®åŸåˆ™**ï¼š
   - æä¾›åˆç†çš„é»˜è®¤å€¼
   - å¯ç”¨åŸºç¡€è®¾æ–½ç»„ä»¶
   - é¿å…è¿‡åº¦ä¸ªæ€§åŒ–

2. **ç”¨æˆ·çº§é…ç½®åŸåˆ™**ï¼š
   - åªè¦†ç›–éœ€è¦ä¸ªæ€§åŒ–çš„é€‰é¡¹
   - åˆ©ç”¨ç³»ç»Ÿé»˜è®¤å€¼å‡å°‘é…ç½®é‡
   - åœ¨æ³¨é‡Šä¸­è¯´æ˜è¦†ç›–åŸå› 

3. **ç»´æŠ¤å»ºè®®**ï¼š
   - å®šæœŸåŒæ­¥ç³»ç»Ÿå’Œç”¨æˆ·é…ç½®é€‰é¡¹ç»“æ„
   - ä½¿ç”¨æ³¨é‡Šè¯´æ˜é…ç½®å†³ç­–
   - æµ‹è¯•å¤šç”¨æˆ·åœºæ™¯ç¡®ä¿è¦†ç›–æ­£ç¡®

è¿™ç§å¯¹ç§°è®¾è®¡æä¾›äº†æœ€å¤§çš„çµæ´»æ€§å’Œæœ€ä½³çš„ç”¨æˆ·ä½“éªŒï¼Œæ˜¯ NixOS + Home Manager ç¯å¢ƒä¸‹çš„ç†æƒ³é…ç½®æ¨¡å¼ã€‚
