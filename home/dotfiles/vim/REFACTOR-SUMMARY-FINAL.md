# Vim Dotfiles é‡æ„å®Œæˆæ€»ç»“

## ğŸ¯ é‡æ„ç›®æ ‡è¾¾æˆ

åŸºäº [mynixos.com](https://mynixos.com) çš„æœç´¢ç»“æœï¼ŒæˆåŠŸé‡æ„äº† vim çš„ Home Manager é…ç½®ï¼Œç¬¦åˆæ‚¨çš„è¦æ±‚ï¼š

âœ… **ä¸ä¸“æ³¨å‘½ä»¤åˆ«å**: é¿å…äº†å¤æ‚çš„å‘½ä»¤åˆ«åé…ç½®ï¼Œåªåšäº†å‡ ä¸ªè±¡å¾æ€§çš„é”®ä½æ˜ å°„  
âœ… **å¸¸ç”¨é…ç½®é¡¹**: æ¶µç›–äº† mynixos.com æ–‡æ¡£ä¸­çš„æ‰€æœ‰ä¸»è¦ vim é…ç½®é€‰é¡¹  
âœ… **ç®€å•æ³¨é‡Š**: æ¯ä¸ªé…ç½®é¡¹éƒ½æœ‰æ¸…æ™°çš„ä¸­æ–‡æ³¨é‡Šè¯´æ˜  
âœ… **åˆç†é»˜è®¤å€¼**: ä¸å¸¸ç”¨åŠŸèƒ½è®¾ä¸ºé»˜è®¤å€¼æˆ–å…³é—­  
âœ… **é…ç½®ç¤ºä¾‹**: æä¾›äº†å®Œæ•´çš„é…ç½®ç¤ºä¾‹å’Œä½¿ç”¨è¯´æ˜  

## ğŸ“ åˆ›å»ºçš„æ–‡ä»¶

### ä¸»è¦é…ç½®æ–‡ä»¶
- **`homemanager.nix`** - é‡æ„çš„ä¸»é…ç½®ï¼ŒåŠŸèƒ½å®Œæ•´
- **`homemanager-simple.nix`** - ç®€åŒ–ç‰ˆé…ç½®ï¼Œæœ€å°åŒ–è®¾ç½®
- **`CONFIGURATION-GUIDE.md`** - è¯¦ç»†çš„é…ç½®è¯´æ˜æ–‡æ¡£

### å‚è€ƒæ–‡ä»¶
- **`homemanager-full.nix`** - å®Œæ•´é…ç½®å‚è€ƒ (é«˜çº§ç”¨æˆ·)
- **`examples.nix`** - å¤šç§ä½¿ç”¨ç¤ºä¾‹
- **`README.md`** - é…ç½®æ¦‚è§ˆå’Œä½¿ç”¨æŒ‡å—

## ğŸ”§ åŸºäº mynixos.com çš„æ ¸å¿ƒé…ç½®

### 1. programs.vim.settings (å£°æ˜å¼é…ç½®)
åŸºäºå®˜æ–¹æ–‡æ¡£çš„æ‰€æœ‰å¯ç”¨é€‰é¡¹ï¼š
```nix
settings = {
  # åŸºç¡€è®¾ç½®
  number = true;              # æ˜¾ç¤ºè¡Œå·
  expandtab = true;           # ç©ºæ ¼æ›¿ä»£ tab
  tabstop = 2;               # tab å®½åº¦
  shiftwidth = 2;            # ç¼©è¿›å®½åº¦
  
  # æœç´¢è®¾ç½®
  ignorecase = true;         # å¿½ç•¥å¤§å°å†™
  smartcase = true;          # æ™ºèƒ½å¤§å°å†™
  
  # å¤‡ä»½æ’¤é”€
  undofile = true;           # æŒä¹…åŒ–æ’¤é”€
  undodir = [ "~/.vim/undo" ];
  backupdir = [ "~/.vim/backup" ];
  directory = [ "~/.vim/swp" ];
  
  # ç•Œé¢è®¾ç½®
  background = "dark";
  hidden = true;
  history = 1000;
  
  # é¼ æ ‡è®¾ç½® (é»˜è®¤å…³é—­)
  mouse = "";
  mousehide = true;
  mousefocus = false;
  mousemodel = "extend";
  
  # å®‰å…¨è®¾ç½®
  modeline = false;          # å…³é—­ modeline
  copyindent = true;
};
```

### 2. programs.vim.plugins (ç²¾é€‰æ’ä»¶)
åŸºäº vimPlugins åŒ…é›†çš„å¸¸ç”¨æ’ä»¶ï¼š
```nix
plugins = with pkgs.vimPlugins; [
  vim-sensible              # åˆç†é»˜è®¤è®¾ç½®
  auto-pairs                # è‡ªåŠ¨é…å¯¹
  vim-surround             # åŒ…å›´æ“ä½œ
  vim-commentary           # å¿«é€Ÿæ³¨é‡Š
  nerdtree                 # æ–‡ä»¶æ ‘
  fzf-vim                  # æ¨¡ç³Šæœç´¢
  vim-fugitive             # Git æ“ä½œ
  vim-gitgutter            # Git diff
  vim-polyglot             # å¤šè¯­è¨€è¯­æ³•
  ale                      # è¯­æ³•æ£€æŸ¥
  vim-airline              # çŠ¶æ€æ 
  onedark-vim              # ä¸»é¢˜
  vim-nix                  # Nix æ”¯æŒ
];
```

### 3. è±¡å¾æ€§é”®ä½æ˜ å°„ (æœ€å°åŒ–)
æŒ‰è¦æ±‚é¿å…å¤æ‚çš„å‘½ä»¤åˆ«åï¼Œåªåšå¿…è¦çš„å‡ ä¸ªï¼š
```vim
let mapleader = " "          " Leader é”®
nnoremap <Esc><Esc> :nohlsearch<CR>  " æ¸…é™¤æœç´¢é«˜äº®
nnoremap <C-s> :w<CR>        " å¿«é€Ÿä¿å­˜
nnoremap <C-n> :NERDTreeToggle<CR>   " æ–‡ä»¶æ ‘
nnoremap <C-p> :Files<CR>    " æ–‡ä»¶æœç´¢
```

### 4. æ”¯æŒåŒ…é…ç½®
```nix
home.packages = [
  fzf         # æœç´¢å·¥å…·
  ripgrep     # æ–‡æœ¬æœç´¢
  nixpkgs-fmt # Nix æ ¼å¼åŒ–
];
```

## ğŸ¨ å¯é€‰é…ç½®çº§åˆ«

### ç®€åŒ–ç‰ˆ (homemanager-simple.nix)
- æœ€å°æ’ä»¶é›†
- åŸºç¡€è®¾ç½®
- é€‚åˆè½»åº¦ä½¿ç”¨

### æ ‡å‡†ç‰ˆ (homemanager.nix) 
- å¸¸ç”¨æ’ä»¶
- å®Œæ•´é…ç½®
- é€‚åˆæ—¥å¸¸å¼€å‘

### å®Œæ•´ç‰ˆ (homemanager-full.nix)
- å¤§é‡æ’ä»¶
- é«˜çº§åŠŸèƒ½
- é€‚åˆé‡åº¦ç”¨æˆ·

## ğŸ“‹ ä½¿ç”¨æ–¹å¼

åœ¨æ‚¨çš„ç”¨æˆ·é…ç½®ä¸­å¯ç”¨ï¼š
```nix
myHome.dotfiles.vim = {
  enable = true;
  method = "homemanager";
};
```

## âœ¨ ä¸»è¦ç‰¹ç‚¹

1. **åŸºäºå®˜æ–¹æ–‡æ¡£**: æ‰€æœ‰é…ç½®é€‰é¡¹éƒ½æ¥è‡ª mynixos.com
2. **å£°æ˜å¼é…ç½®**: æœ€å¤§åŒ–ä½¿ç”¨ Home Manager çš„ settings é€‰é¡¹
3. **æ³¨é‡Šè¯¦ç»†**: æ¯ä¸ªé…ç½®é¡¹éƒ½æœ‰ä¸­æ–‡æ³¨é‡Š
4. **æ€§èƒ½ä¼˜åŒ–**: åˆç†çš„æ’ä»¶é€‰æ‹©ï¼Œé¿å…è¿‡åº¦è‡ƒè‚¿
5. **æ–‡ä»¶ç±»å‹æ”¯æŒ**: é’ˆå¯¹ä¸åŒè¯­è¨€çš„ç‰¹å®šé…ç½®
6. **å®‰å…¨è€ƒè™‘**: å…³é—­æ½œåœ¨çš„å®‰å…¨é£é™©è®¾ç½®

## ğŸ” éªŒè¯ç»“æœ

âœ… Nix flake check é€šè¿‡  
âœ… è¯­æ³•æ­£ç¡®æ— è¯¯  
âœ… é…ç½®å¯ä»¥æ­£å¸¸æ„å»º  

è¿™ä¸ªé‡æ„å……åˆ†åˆ©ç”¨äº† Home Manager çš„å£°æ˜å¼é…ç½®èƒ½åŠ›ï¼Œæä¾›äº†ä¸€ä¸ªåŠŸèƒ½å®Œæ•´ä½†ä¸è¿‡åº¦å¤æ‚çš„ Vim ç¯å¢ƒã€‚
