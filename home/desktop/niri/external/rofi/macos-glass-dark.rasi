/*
 * Rofi macOS Glass Effect Theme - Dark
 * 类似最新 macOS 毛玻璃效果的 rofi 主题 - 深色版本
 * 使用 LXGW WenKai Mono 字体，模仿 macOS Sonoma/Ventura 的视觉效果
 */

configuration {
    modi: "drun,run,window,ssh,combi";
    font: "LXGW WenKai Mono 13";
    show-icons: true;
    icon-theme: "Papirus-Dark";
    display-drun: "󰀻 应用程序";
    display-run: " 运行命令";
    display-window: "󰖯 窗口";
    display-ssh: "󰢹 SSH";
    display-combi: "󰕘 组合";

    sidebar-mode: false;
    hover-select: true;
    me-select-entry: "";
    me-accept-entry: "MousePrimary";

    /* macOS 风格的键盘绑定 */
    kb-cancel: "Escape,Control+g,Control+bracketleft,Cmd+w";
    kb-accept-entry: "Control+j,Control+m,Return,KP_Enter";
    kb-row-down: "Down,Control+n,Cmd+Down";
    kb-row-up: "Up,Control+p,Cmd+Up";
    kb-row-first: "Home,Control+a,Cmd+Home";
    kb-row-last: "End,Control+e,Cmd+End";
    kb-row-select: "Control+space";
    kb-screenshot: "Alt+S";
    kb-ellipsize: "Alt+period";
    kb-toggle-case-sensitivity: "grave,dead_grave";
    kb-toggle-sort: "Alt+grave";
    kb-delete-entry: "Shift+Delete";

    terminal: "alacritty";

    /* 性能优化 */
    lazy-grab: false;
    parse-hosts: true;
    parse-known-hosts: true;

    /* 搜索设置 */
    case-sensitive: false;
    cycle: true;
    filter: "";

    /* 窗口设置 */
    fullscreen: false;
    width: 38;
    lines: 8;
    columns: 1;
    fixed-num-lines: true;

    /* 位置设置 */
    location: 0;
    anchor: 0;
    x-offset: 0;
    y-offset: 0;

    /* 其他设置 */
    auto-select: false;
    parse-known-hosts: true;
    combi-modi: "drun,run";
    matching: "fuzzy";
    tokenize: true;

    /* 点击行为 */
    click-to-exit: true;
    show-match: true;
}

/* 重置所有默认样式 */
@theme "/dev/null"

* {
    /* macOS 毛玻璃深色配色方案 */

    /* 主要颜色 - 模仿 macOS 系统颜色 */
    macos-bg:           rgba(29, 29, 31, 0.06);    /* 极低透明度背景，营造毛玻璃效果 */
    macos-bg-solid:     rgba(29, 29, 31, 0.95);   /* 半透明背景用于输入框等 */
    macos-bg-alt:       rgba(255, 255, 255, 0.05); /* 极淡的选中背景 */
    macos-bg-hover:     rgba(255, 255, 255, 0.08); /* 悬停效果 */

    /* macOS 标准文本颜色 */
    macos-fg:           rgba(242, 242, 247, 1.0);  /* 主文本 - macOS 标准浅色 */
    macos-fg-dim:       rgba(142, 142, 147, 1.0);  /* 次要文本 */
    macos-fg-placeholder: rgba(142, 142, 147, 0.8); /* 占位符文本 */

    /* macOS 蓝色强调色 */
    macos-accent:       rgba(0, 122, 255, 1.0);    /* macOS 标准蓝色 #007AFF */
    macos-accent-light: rgba(64, 166, 255, 1.0);   /* 较亮的蓝色用于选中 */
    macos-accent-dim:   rgba(0, 122, 255, 0.3);    /* 淡蓝色用于边框 */

    /* 边框和分隔线 */
    macos-border:       rgba(255, 255, 255, 0.06); /* 极淡的白色边框 */
    macos-separator:    rgba(255, 255, 255, 0.1);  /* 分隔线 */

    /* 状态颜色 */
    macos-urgent:       rgba(255, 69, 58, 1.0);    /* 紧急/错误 - macOS 红色 */
    macos-success:      rgba(52, 199, 89, 1.0);    /* 成功 - macOS 绿色 */
    macos-warning:      rgba(255, 214, 10, 1.0);   /* 警告 - macOS 黄色 */

    /* 全局重置 */
    background-color:   transparent;
    text-color:         @macos-fg;
    font:              "LXGW WenKai Mono 13";

    border:            0;
    margin:            0;
    padding:           0;
    spacing:           0;
}

/* 主窗口 - 毛玻璃效果的核心 */
window {
    background-color:   @macos-bg;
    border:            0.5px solid;
    border-color:      @macos-border;
    border-radius:     18px;           /* macOS 标准圆角 */

    /* 窗口尺寸和位置 */
    width:             38%;
    height:            auto;
    location:          center;
    anchor:            center;
    x-offset:          0px;
    y-offset:          0px;

    /* 内边距 - 模仿 macOS 的宽松布局 */
    padding:           24px 36px;

    /* 窗口行为 */
    fullscreen:        false;
    transparency:      "real";
}

/* 主容器 */
mainbox {
    background-color:   transparent;
    orientation:        vertical;
    spacing:            16px;
    children:           [ "inputbar", "listview", "mode-switcher" ];
}

/* 输入栏 - 类似 macOS Spotlight 的搜索框 */
inputbar {
    background-color:   @macos-bg-solid;
    border:            0.5px solid;
    border-color:      @macos-border;
    border-radius:     12px;
    padding:           12px 18px;
    spacing:           12px;
    margin:            0px 0px 8px 0px;

    children:          [ "prompt", "entry" ];
}

/* 提示符 */
prompt {
    background-color:   transparent;
    text-color:        @macos-accent;
    font:              "LXGW WenKai Mono Bold 13";
    vertical-align:    0.5;
    horizontal-align:  0.0;
    padding:           0px;
}

/* 输入框 */
entry {
    background-color:   transparent;
    text-color:        @macos-fg;
    placeholder:       "搜索应用程序...";
    placeholder-color: @macos-fg-placeholder;
    cursor:            @macos-accent;
    vertical-align:    0.5;
    horizontal-align:  0.0;
    padding:           0px;
    blink:             true;
}

/* 列表视图 */
listview {
    background-color:   transparent;
    lines:             8;
    columns:           1;
    cycle:             true;
    dynamic:           true;
    scrollbar:         false;

    spacing:           2px;
    padding:           8px 0px;
    margin:            0px;

    border:            0px;
    border-color:      transparent;

    /* 固定高度确保一致性 */
    fixed-height:      true;
    fixed-columns:     true;
}

/* 列表元素 - 核心的毛玻璃交互效果 */
element {
    background-color:   transparent;
    text-color:        @macos-fg;
    border-radius:     10px;
    padding:           12px 16px;
    spacing:           14px;
    margin:            1px 0px;

    orientation:       horizontal;
    children:          [ "element-icon", "element-text" ];

    /* 过渡效果 */
    cursor:            pointer;
}

/* 元素状态 */
element normal.normal {
    background-color:   transparent;
    text-color:        @macos-fg;
}

element selected.normal {
    background-color:   @macos-bg-alt;
    text-color:        @macos-fg;
    border:            0.5px solid;
    border-color:      @macos-accent-dim;
}

element alternate.normal {
    background-color:   transparent;
    text-color:        @macos-fg;
}

element normal.urgent {
    background-color:   @macos-urgent;
    text-color:        @macos-fg;
}

element selected.urgent {
    background-color:   @macos-urgent;
    text-color:        @macos-fg;
}

element normal.active {
    background-color:   @macos-success;
    text-color:        @macos-fg;
}

element selected.active {
    background-color:   @macos-success;
    text-color:        @macos-fg;
}

/* 元素图标 */
element-icon {
    background-color:   transparent;
    size:              28px;
    vertical-align:    0.5;
    horizontal-align:  0.0;
    padding:           0px 2px 0px 0px;
}

/* 元素文本 */
element-text {
    background-color:   transparent;
    text-color:        inherit;
    font:              "LXGW WenKai Mono 13";
    vertical-align:    0.5;
    horizontal-align:  0.0;
    padding:           0px;

    /* 文本对齐和省略 */
    expand:            true;
    width:             auto;
}

/* 高亮匹配的字符 */
element-text highlight {
    text-color:        @macos-accent-light;
    font:              "LXGW WenKai Mono Bold 13";
}

/* 模式切换器 */
mode-switcher {
    background-color:   transparent;
    spacing:           8px;
    padding:           8px 0px 0px 0px;
    margin:            8px 0px 0px 0px;
    border:            1px solid 0px 0px 0px;
    border-color:      @macos-separator;
}

/* 模式切换按钮 */
button {
    background-color:   @macos-bg-solid;
    text-color:        @macos-fg-dim;
    border:            0.5px solid;
    border-color:      @macos-border;
    border-radius:     8px;
    padding:           8px 16px;
    font:              "LXGW WenKai Mono 11";

    vertical-align:    0.5;
    horizontal-align:  0.5;

    cursor:            pointer;
}

button selected {
    background-color:   @macos-accent;
    text-color:        @macos-fg;
    border-color:      @macos-accent;
    font:              "LXGW WenKai Mono Bold 11";
}

/* 消息框 */
message {
    background-color:   @macos-bg-solid;
    border:            0.5px solid;
    border-color:      @macos-border;
    border-radius:     12px;
    padding:           16px 20px;
    margin:            8px 0px;
}

textbox {
    background-color:   transparent;
    text-color:        @macos-fg;
    font:              "LXGW WenKai Mono 13";
    vertical-align:    0.5;
    horizontal-align:  0.0;
}

/* 错误消息 */
error-message {
    background-color:   @macos-urgent;
    text-color:        @macos-fg;
    border-radius:     12px;
    padding:           16px 20px;
    margin:            8px 0px;
}

/* 滚动条（如果启用） */
scrollbar {
    background-color:   @macos-bg-alt;
    border-radius:     4px;
    width:             4px;
    padding:           0px;
    handle-width:      4px;
    handle-color:      @macos-fg-dim;
    border:            0px;
}

/* 特殊元素样式 */

/* 应用程序启动器专用样式 */
element.application {
    padding:           14px 16px;
}

element.application element-icon {
    size:              32px;
}

element.application element-text {
    font:              "LXGW WenKai Mono 13";
}

/* 窗口切换器专用样式 */
element.window {
    padding:           10px 16px;
}

element.window element-icon {
    size:              24px;
}

element.window element-text {
    font:              "LXGW WenKai Mono 12";
}

/* 运行命令专用样式 */
element.run {
    padding:           12px 16px;
}

element.run element-icon {
    size:              20px;
    text-color:        @macos-accent;
}

/* SSH 连接专用样式 */
element.ssh {
    padding:           12px 16px;
}

element.ssh element-icon {
    size:              24px;
    text-color:        @macos-success;
}

/* 文件浏览器样式（如果使用） */
element.filebrowser {
    padding:           10px 16px;
}

element.filebrowser.directory element-icon {
    text-color:        @macos-accent;
}

element.filebrowser.file element-icon {
    text-color:        @macos-fg-dim;
}

/* 自定义动画效果提示 */
/*
 * 注意：Rofi 的动画支持有限
 * 这些样式主要用于颜色过渡和状态变化
 * 真正的毛玻璃效果主要通过极低透明度和适当的背景色实现
 */

/* 悬停效果 */
element:hover {
    background-color:   @macos-bg-hover;
}

button:hover {
    background-color:   @macos-bg-hover;
    border-color:      @macos-accent-dim;
}

/* 焦点效果 */
element:focus {
    background-color:   @macos-bg-alt;
    border-color:      @macos-accent-dim;
}

/* 活动状态 */
element:active {
    background-color:   @macos-accent-dim;
}

/*
 * macOS 毛玻璃效果使用说明：
 *
 * 1. 背景透明度设置为极低值（6%）以营造真实的毛玻璃效果
 * 2. 使用 macOS 标准的颜色值和圆角半径
 * 3. LXGW WenKai Mono 字体确保中文显示效果
 * 4. 边框使用极细线条（0.5px）模仿 macOS 精致感
 * 5. 间距和内边距参考 macOS 的设计规范
 *
 * 最佳效果建议：
 * - 使用有一定对比度的壁纸
 * - 确保合成器支持真透明度
 * - 适当调整显示器亮度以获得最佳视觉效果
 */
