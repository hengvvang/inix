// =============================================================================
// niri 输入设备配置
// =============================================================================
// 此文件定义键盘、触摸板、鼠标等输入设备的行为
// 官方文档: https://github.com/YaLTeR/niri/wiki/Configuration:-Input
// =============================================================================

input {
    // ==========================================================================
    // 键盘配置
    // ==========================================================================
    keyboard {
        // XKB 键盘布局配置
        xkb {
            // 键盘布局
            // "us" = 美式英语布局, "cn" = 中文布局
            layout "us,cn"

            // 布局切换选项
            // "grp:win_space_toggle" = 使用 Win+Space 切换布局
            options "grp:win_space_toggle"

            // 其他可用选项示例:
            // "grp:win_space_toggle,compose:ralt" = Win+Space 切换 + 右Alt作为组合键
        }

        // 启动时启用数字锁定键 (Num Lock)
        // 注释掉此行将在启动时禁用数字锁定
        numlock
    }

    // ==========================================================================
    // 触摸板配置
    // ==========================================================================
    touchpad {
        // 完全禁用触摸板 (取消注释以禁用)
        // off

        // 启用轻触点击
        // 轻触触摸板表面即可点击，无需按下
        tap

        // 在打字时禁用触摸板 (Disable While Typing)
        // 防止打字时误触触摸板
        // dwt

        // 在触摸板上打字时禁用 (Disable While Touchpad Typing)
        // dwtp

        // 禁用拖动功能
        // drag false

        // 启用拖动锁定
        // 允许抬起手指后继续拖动
        // drag-lock

        // 启用自然滚动 (反向滚动)
        // 双指向上滑动时，内容向上移动（类似触摸屏）
        natural-scroll

        // 触摸板加速度
        // 范围: -1.0 到 1.0
        // 负值 = 更慢, 正值 = 更快
        // accel-speed 0.2

        // 加速度配置文件
        // "flat" = 线性加速, "adaptive" = 自适应加速
        // accel-profile "flat"

        // 滚动方式
        // "two-finger" = 双指滚动 (默认)
        // "edge" = 边缘滚动
        // "on-button-down" = 按钮滚动
        // scroll-method "two-finger"

        // 连接外部鼠标时禁用触摸板
        // disabled-on-external-mouse
    }

    // ==========================================================================
    // 鼠标配置
    // ==========================================================================
    mouse {
        // 完全禁用鼠标 (取消注释以禁用)
        // off

        // 启用自然滚动 (反向滚动)
        // 向下滚动滚轮时，内容向上移动
        // natural-scroll

        // 鼠标加速度
        // 范围: -1.0 到 1.0
        // accel-speed 0.2

        // 加速度配置文件
        // "flat" = 无加速 (1:1 移动), "adaptive" = 自适应加速
        // accel-profile "flat"

        // 滚动方式
        // "no-scroll" = 禁用滚动
        // scroll-method "no-scroll"
    }

    // ==========================================================================
    // TrackPoint 配置 (笔记本指点杆)
    // ==========================================================================
    trackpoint {
        // 完全禁用 TrackPoint (取消注释以禁用)
        // off

        // 启用自然滚动 (反向滚动)
        // natural-scroll

        // TrackPoint 加速度
        // accel-speed 0.2

        // 加速度配置文件
        // accel-profile "flat"

        // 滚动方式
        // "on-button-down" = 按住按钮时滚动
        // scroll-method "on-button-down"

        // 滚动按钮
        // 273 = 鼠标中键
        // scroll-button 273

        // 滚动按钮锁定
        // 按下按钮后锁定滚动模式，无需一直按住
        // scroll-button-lock

        // 中键模拟
        // 同时按下左右键模拟中键点击
        // middle-emulation
    }

    // ==========================================================================
    // 焦点行为配置
    // ==========================================================================

    // 将鼠标指针移动到新聚焦窗口的中心
    // 当通过键盘切换窗口时，鼠标会自动移动到该窗口
    warp-mouse-to-focus

    // 焦点跟随鼠标
    // 当鼠标移入窗口时自动聚焦该窗口
    //
    // max-scroll-amount 参数:
    // - "0%" = 仅当窗口完全可见时才聚焦
    // - "40%" = 当窗口至少40%可见时聚焦
    // - "100%" = 即使窗口完全不可见也聚焦
    //
    // 取消下面的注释以启用焦点跟随鼠标:
    // focus-follows-mouse max-scroll-amount="40%"
}
