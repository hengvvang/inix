// =============================================================================
// niri 动画配置
// =============================================================================
// 此文件定义各种窗口和工作区动画的行为
// 官方文档: https://github.com/YaLTeR/niri/wiki/Configuration:-Animations
// =============================================================================

animations {
    // ==========================================================================
    // 全局动画速度调节
    // ==========================================================================

    // 全局动画速度减慢因子
    // 1.0 = 正常速度
    // >1.0 = 更慢 (例如 2.0 = 慢2倍)
    // <1.0 = 更快 (例如 0.5 = 快2倍)
    // 当前设置: 0.85 = 略微加快动画速度
    slowdown 0.85

    // ==========================================================================
    // 工作区切换动画
    // ==========================================================================

    workspace-switch {
        // 使用弹簧物理动画
        // damping-ratio: 阻尼比
        //   - 1.0 = 临界阻尼 (无过冲，快速停止)
        //   - <1.0 = 欠阻尼 (会有轻微弹跳)
        //   - >1.0 = 过阻尼 (缓慢停止)
        // stiffness: 弹簧刚度 (值越大，动画越快)
        // epsilon: 停止阈值 (值越小，动画越精确但可能更长)
        spring damping-ratio=1.0 stiffness=900 epsilon=0.0001
    }

    // ==========================================================================
    // 窗口打开动画
    // ==========================================================================

    window-open {
        // 动画持续时间（毫秒）
        duration-ms 180

        // 缓动曲线
        // "ease-out-expo" = 指数缓出（快速开始，缓慢结束）
        // 其他选项:
        // - "linear" : 线性
        // - "ease-in" : 缓入
        // - "ease-out" : 缓出
        // - "ease-in-out" : 缓入缓出
        // - "ease-out-quad" : 二次方缓出
        // - "ease-out-cubic" : 三次方缓出
        curve "ease-out-expo"
    }

    // ==========================================================================
    // 窗口关闭动画
    // ==========================================================================

    window-close {
        // 动画持续时间（毫秒）
        // 关闭动画通常比打开动画更快
        duration-ms 120

        // 缓动曲线
        // "ease-out-quad" = 二次方缓出
        curve "ease-out-quad"
    }

    // ==========================================================================
    // 水平视图移动动画
    // ==========================================================================

    horizontal-view-movement {
        // 使用弹簧物理动画
        // 临界阻尼，快速响应
        spring damping-ratio=1.0 stiffness=900 epsilon=0.0001
    }

    // ==========================================================================
    // 窗口移动动画
    // ==========================================================================

    window-movement {
        // 使用弹簧物理动画
        // 临界阻尼，快速响应
        spring damping-ratio=1.0 stiffness=900 epsilon=0.0001
    }

    // ==========================================================================
    // 窗口调整大小动画
    // ==========================================================================

    window-resize {
        // 使用弹簧物理动画
        // 临界阻尼，快速响应
        spring damping-ratio=1.0 stiffness=900 epsilon=0.0001
    }

    // ==========================================================================
    // 配置通知打开/关闭动画
    // ==========================================================================

    config-notification-open-close {
        // 使用弹簧物理动画
        // 轻微欠阻尼 (0.6)，会有一点弹跳效果
        // 较高的刚度 (1200)，使其更有活力
        spring damping-ratio=0.6 stiffness=1200 epsilon=0.001
    }

    // ==========================================================================
    // 截图 UI 打开动画
    // ==========================================================================

    screenshot-ui-open {
        // 动画持续时间（毫秒）
        duration-ms 150

        // 缓动曲线
        // "ease-out-quad" = 二次方缓出
        curve "ease-out-quad"
    }

    // ==========================================================================
    // 概览模式打开/关闭动画
    // ==========================================================================

    overview-open-close {
        // 使用弹簧物理动画
        // 临界阻尼，快速响应
        spring damping-ratio=1.0 stiffness=900 epsilon=0.0001
    }
}
