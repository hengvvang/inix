[
    {
        "bindings": {
            "home": "menu::SelectFirst",
            "end": "menu::SelectLast",

            "shift-pageup": "menu::SelectFirst",
            "shift-pagedown": "menu::SelectLast",

            "pagedown": "menu::SelectLast",
            "pageup": "menu::SelectFirst",

            "tab": "menu::SelectNext",
            "shift-tab": "menu::SelectPrevious",

            "ctrl-n": "menu::SelectNext",
            "ctrl-p": "menu::SelectPrevious",

            "up": "menu::SelectPrevious",
            "down": "menu::SelectNext",

            "enter": "menu::Confirm",
            "ctrl-enter": "menu::SecondaryConfirm",

            "escape": "menu::Cancel",
            "ctrl-escape": "menu::Cancel",
            "ctrl-c": "menu::Cancel",

            "alt-shift-enter": "menu::Restart",
            "alt-enter": ["picker::ConfirmInput", { "secondary": false }], // 用当前输入值确认（非次要操作），而非选中高亮项
            "ctrl-alt-enter": ["picker::ConfirmInput", { "secondary": true }], // 用当前输入值进行次要确认（如在新位置打开等）

            "ctrl-shift-w": "workspace::CloseWindow",
            "shift-escape": "workspace::ToggleZoom",

            "open": "workspace::Open",
            "ctrl-o": "workspace::Open",

            "ctrl-=": ["zed::IncreaseBufferFontSize", { "persist": false }],
            "ctrl-+": ["zed::IncreaseBufferFontSize", { "persist": false }],
            "ctrl--": ["zed::DecreaseBufferFontSize", { "persist": false }],
            "ctrl-_": ["zed::DecreaseBufferFontSize", { "persist": false }],
            "ctrl-0": ["zed::ResetBufferFontSize", { "persist": false }],

            "ctrl-,": "zed::OpenSettings",
            "ctrl-.": "zed::OpenDefaultSettings",
            // "ctrl-<": "zed::OpenKeymap",
            // "ctrl->": "zed::OpenDefaultKeymap",
            "ctrl-q": "zed::Quit",

            "ctrl-alt-l": "lsp_tool::ToggleMenu"
        }
    },

    {
        "context": "Picker || menu",
        "bindings": {
            "up": "menu::SelectPrevious",
            "down": "menu::SelectNext"
        }
    },

    {
        "context": "Editor",
        "bindings": {
            "escape": "editor::Cancel",

            "backspace": "editor::Backspace",
            "shift-backspace": "editor::Delete",
            "delete": "editor::Delete",

            "tab": "editor::Tab",
            "shift-tab": "editor::Backtab",

            "ctrl-k": "editor::CutToEndOfLine",
            "ctrl-k ctrl-q": "editor::Rewrap", // 重新换行当前段落/选区（基于设定的列宽重排）
            "ctrl-k q": "editor::Rewrap", // 同上，重新换行（快捷组合的另一种输入序列）
            "ctrl-backspace": "editor::DeleteToPreviousWordStart",
            "ctrl-shift-backspace": "editor::DeleteToNextWordEnd",
            "ctrl-delete": "editor::DeleteToNextWordEnd",
            "cut": "editor::Cut", // 剪切选中文本到剪贴板

            "shift-delete": "editor::Cut",
            "ctrl-x": "editor::Cut", // 剪切选中文本（标准快捷）
            "copy": "editor::Copy", // 复制选中文本到剪贴板
            "ctrl-insert": "editor::Copy", // 与 copy 等价（终端/系统兼容习惯）
            "ctrl-c": "editor::Copy", // 复制选中文本（标准快捷）
            "paste": "editor::Paste", // 粘贴剪贴板内容至光标处，替换选区
            "shift-insert": "editor::Paste", // 与 paste 等价（系统兼容）
            "ctrl-v": "editor::Paste", // 粘贴（标准快捷）
            "undo": "editor::Undo",
            "ctrl-z": "editor::Undo",
            "redo": "editor::Redo",
            "ctrl-y": "editor::Redo",
            "ctrl-shift-z": "editor::Redo",
            "up": "editor::MoveUp",
            "ctrl-up": "editor::LineUp", // 视图上卷一行（保持光标相对位置）
            "ctrl-down": "editor::LineDown", // 视图下卷一行（保持光标相对位置）
            "pageup": "editor::MovePageUp", // 光标向上翻一页（基于页面高度）
            "alt-pageup": "editor::PageUp", // 仅滚动视图上一页（不移动光标）
            "shift-pageup": "editor::SelectPageUp", // 向上按页扩展选择
            "home": [
                "editor::MoveToBeginningOfLine",
                { "stop_at_soft_wraps": true, "stop_at_indent": true }
            ], // 移动到行首（先到缩进起点，再到物理行首；遇软换行时到可视行首）
            "down": "editor::MoveDown", // 光标向下移动一行
            "pagedown": "editor::MovePageDown", // 光标向下翻一页
            "alt-pagedown": "editor::PageDown", // 仅滚动视图下一页（不移动光标）
            "shift-pagedown": "editor::SelectPageDown", // 向下按页扩展选择
            "end": ["editor::MoveToEndOfLine", { "stop_at_soft_wraps": true }], // 移动到行尾（遇软换行时到可视行尾）
            "left": "editor::MoveLeft", // 光标左移一个字符
            "right": "editor::MoveRight", // 光标右移一个字符
            "ctrl-left": "editor::MoveToPreviousWordStart", // 光标移动到上一个单词的起始（按词粒度）
            "ctrl-right": "editor::MoveToNextWordEnd", // 光标移动到下一个单词的末尾（按词粒度）
            "ctrl-home": "editor::MoveToBeginning", // 移动到文档开头
            "ctrl-end": "editor::MoveToEnd", // 移动到文档末尾
            "shift-up": "editor::SelectUp", // 向上扩展选择一行（保留原锚点）
            "shift-down": "editor::SelectDown", // 向下扩展选择一行
            "shift-left": "editor::SelectLeft", // 向左扩展选择一个字符
            "shift-right": "editor::SelectRight", // 向右扩展选择一个字符
            "ctrl-shift-left": "editor::SelectToPreviousWordStart", // 选择扩展到上一个单词的起始位置
            "ctrl-shift-right": "editor::SelectToNextWordEnd", // 选择扩展到下一个单词的末尾位置
            "ctrl-shift-home": "editor::SelectToBeginning", // 选择到文档开头
            "ctrl-shift-end": "editor::SelectToEnd", // 选择到文档末尾
            "ctrl-a": "editor::SelectAll", // 全选当前缓冲区内容
            "ctrl-l": "editor::SelectLine", // 选中整行（可重复选中多行）
            "ctrl-shift-i": "editor::Format", // 根据语言/格式化器格式化文档或选区
            "alt-shift-o": "editor::OrganizeImports", // 组织/排序/去重导入（依赖语言支持）
            "shift-home": [
                "editor::SelectToBeginningOfLine",
                { "stop_at_soft_wraps": true, "stop_at_indent": true }
            ], // 从光标到行首扩展选择（先到缩进，再到物理行首，考虑软换行）
            "shift-end": [
                "editor::SelectToEndOfLine",
                { "stop_at_soft_wraps": true }
            ], // 从光标到行尾扩展选择（考虑软换行）
            "ctrl-alt-space": "editor::ShowCharacterPalette", // 打开字符面板（输入特殊符号/表情等）
            "ctrl-;": "editor::ToggleLineNumbers", // 显示/隐藏行号
            "ctrl-'": "editor::ToggleSelectedDiffHunks", // 对当前选区对应的差异区1块进行折叠/展开
            "ctrl-\"": "editor::ExpandAllDiffHunks", // 展开所有差异区块（便于审阅变更）
            "ctrl-i": "editor::ShowSignatureHelp", // 显示函数签名帮助（参数提示）
            "alt-g b": "git::Blame", // 打开 Git Blame 视图（查看每行提交作者与信息）
            "alt-g m": "git::OpenModifiedFiles", // 打开当前仓库中已修改但未提交的文件列表
            "menu": "editor::OpenContextMenu", // 打开编辑器上下文菜单（等同鼠标右键）
            "shift-f10": "editor::OpenContextMenu", // 打开上下文菜单（键盘友好）
            "ctrl-shift-e": "editor::ToggleEditPrediction", // 打开/关闭编辑预测（AI 代码建议）展示
            "f9": "editor::ToggleBreakpoint", // 切换断点（在当前行设置/移除断点）
            "shift-f9": "editor::EditLogBreakpoint" // 配置日志断点（到达此行时记录日志而不暂停）
        }
    },

    {
        "context": "Editor && mode == full",
        "bindings": {
            "shift-enter": "editor::Newline", // 插入换行（在当前光标处换行）
            "enter": "editor::Newline", // 插入换行（标准 Enter）
            "ctrl-enter": "editor::NewlineAbove", // 在当前行上方插入一行并将光标置于新行
            "ctrl-shift-enter": "editor::NewlineBelow", // 在当前行下方插入一行并将光标置于新行
            "ctrl-k ctrl-z": "editor::ToggleSoftWrap", // 开/关软换行（长行按视窗宽度折行显示）
            "ctrl-k z": "editor::ToggleSoftWrap", // 同上，切换软换行
            "find": "buffer_search::Deploy", // 打开缓冲区内查找面板（等价 Ctrl+F）
            "ctrl-f": "buffer_search::Deploy", // 查找当前缓冲区内文本
            "ctrl-h": "buffer_search::DeployReplace", // 打开查找替换栏（允许替换）
            "ctrl->": "assistant::QuoteSelection", // 将选中文本引用到 AI 助手，作为上下文引用
            "ctrl-<": "assistant::InsertIntoEditor", // 从 AI 助手插入生成内容到编辑器光标处
            "ctrl-alt-e": "editor::SelectEnclosingSymbol", // 选择包裹当前光标的语法符号（如函数、块等）
            "ctrl-shift-backspace": "editor::GoToPreviousChange", // 跳转到上一个变更（基于编辑历史/变更记录）
            "ctrl-shift-alt-backspace": "editor::GoToNextChange", // 跳转到下一个变更
            "alt-enter": "editor::OpenSelectionsInMultibuffer" // 将所有选区在多缓冲视图中打开（多处并行查看/编辑）
        }
    },

    {
        "context": "Editor && mode == full && edit_prediction",
        "bindings": {
            "alt-]": "editor::NextEditPrediction", // 切换到下一条编辑预测建议
            "alt-[": "editor::PreviousEditPrediction" // 切换到上一条编辑预测建议
        }
    },

    {
        "context": "Editor && !edit_prediction",
        "bindings": {
            "alt-\\": "editor::ShowEditPrediction" // 显示编辑预测建议（弹出/内联）
        }
    },

    {
        "context": "Editor && mode == auto_height",
        "bindings": {
            "ctrl-enter": "editor::Newline", // 插入换行（与 Enter 一致，用于不直接提交的输入区）
            "shift-enter": "editor::Newline", // 插入换行（避免触发提交/确认）
            "ctrl-shift-enter": "editor::NewlineBelow" // 在当前行下方插入新行（即使是小输入框）
        }
    },

    {
        "context": "Markdown",
        "bindings": {
            "copy": "markdown::Copy", // 复制 Markdown 选择内容（保留 Markdown 文本特性）
            "ctrl-c": "markdown::Copy" // 快捷复制 Markdown 选中内容
        }
    },

    {
        "context": "Editor && !agent_diff",
        "bindings": {
            "ctrl-k ctrl-r": "git::Restore",
            "ctrl-alt-y": "git::ToggleStaged",
            "alt-y": "git::StageAndNext",
            "alt-shift-y": "git::UnstageAndNext"
        }
    },
    {
        "context": "Editor && editor_agent_diff",
        "bindings": {
            "ctrl-y": "agent::Keep",
            "ctrl-n": "agent::Reject",
            "ctrl-shift-y": "agent::KeepAll",
            "ctrl-shift-n": "agent::RejectAll",
            "shift-ctrl-r": "agent::OpenAgentDiff"
        }
    },
    {
        "context": "AgentDiff",
        "bindings": {
            "ctrl-y": "agent::Keep",
            "ctrl-n": "agent::Reject",
            "ctrl-shift-y": "agent::KeepAll",
            "ctrl-shift-n": "agent::RejectAll"
        }
    },
    {
        "context": "ContextEditor > Editor",
        "bindings": {
            "ctrl-enter": "assistant::Assist",
            "ctrl-s": "workspace::Save",
            "save": "workspace::Save",
            "ctrl-<": "assistant::InsertIntoEditor",
            "shift-enter": "assistant::Split",
            "ctrl-r": "assistant::CycleMessageRole",
            "enter": "assistant::ConfirmCommand",
            "alt-enter": "editor::Newline",
            "ctrl-k c": "assistant::CopyCode",
            "ctrl-g": "search::SelectNextMatch",
            "ctrl-shift-g": "search::SelectPreviousMatch",
            "ctrl-k l": "agent::OpenRulesLibrary"
        }
    },
    {
        "context": "AgentPanel",
        "bindings": {
            "ctrl-n": "agent::NewThread",
            "ctrl-alt-n": "agent::NewTextThread",
            "ctrl-shift-h": "agent::OpenHistory",
            "ctrl-alt-p": "agent::OpenRulesLibrary",
            "ctrl-i": "agent::ToggleProfileSelector",
            "ctrl-alt-/": "agent::ToggleModelSelector",
            "ctrl-shift-a": "agent::ToggleContextPicker",
            "ctrl-shift-j": "agent::ToggleNavigationMenu",
            "ctrl-shift-i": "agent::ToggleOptionsMenu",
            "shift-alt-escape": "agent::ExpandMessageEditor",
            "ctrl->": "assistant::QuoteSelection",
            "ctrl-alt-e": "agent::RemoveAllContext",
            "ctrl-shift-e": "project_panel::ToggleFocus",
            "ctrl-shift-enter": "agent::ContinueThread",
            "super-ctrl-b": "agent::ToggleBurnMode",
            "alt-enter": "agent::ContinueWithBurnMode"
        }
    },
    {
        "context": "AgentPanel > NavigationMenu",
        "bindings": {
            "shift-backspace": "agent::DeleteRecentlyOpenThread"
        }
    },
    {
        "context": "AgentPanel > Markdown",
        "bindings": {
            "copy": "markdown::CopyAsMarkdown",
            "ctrl-c": "markdown::CopyAsMarkdown"
        }
    },
    {
        "context": "AgentPanel && prompt_editor",
        "bindings": {
            "ctrl-n": "agent::NewTextThread",
            "ctrl-alt-t": "agent::NewThread"
        }
    },
    {
        "context": "AgentPanel && external_agent_thread",
        "use_key_equivalents": true,
        "bindings": {
            "ctrl-n": "agent::NewExternalAgentThread",
            "ctrl-alt-t": "agent::NewThread"
        }
    },
    {
        "context": "MessageEditor && !Picker > Editor && !use_modifier_to_send",
        "bindings": {
            "enter": "agent::Chat",
            "ctrl-enter": "agent::ChatWithFollow",
            "ctrl-i": "agent::ToggleProfileSelector",
            "shift-ctrl-r": "agent::OpenAgentDiff",
            "ctrl-shift-y": "agent::KeepAll",
            "ctrl-shift-n": "agent::RejectAll"
        }
    },
    {
        "context": "MessageEditor && !Picker > Editor && use_modifier_to_send",
        "bindings": {
            "ctrl-enter": "agent::Chat",
            "enter": "editor::Newline",
            "ctrl-i": "agent::ToggleProfileSelector",
            "shift-ctrl-r": "agent::OpenAgentDiff",
            "ctrl-shift-y": "agent::KeepAll",
            "ctrl-shift-n": "agent::RejectAll"
        }
    },
    {
        "context": "EditMessageEditor > Editor",
        "bindings": {
            "escape": "menu::Cancel",
            "enter": "menu::Confirm",
            "alt-enter": "editor::Newline"
        }
    },
    {
        "context": "AgentFeedbackMessageEditor > Editor",
        "bindings": {
            "escape": "menu::Cancel",
            "enter": "menu::Confirm",
            "alt-enter": "editor::Newline"
        }
    },
    {
        "context": "ContextStrip",
        "bindings": {
            "up": "agent::FocusUp",
            "right": "agent::FocusRight",
            "left": "agent::FocusLeft",
            "down": "agent::FocusDown",
            "backspace": "agent::RemoveFocusedContext",
            "enter": "agent::AcceptSuggestedContext"
        }
    },
    {
        "context": "AcpThread > Editor",
        "use_key_equivalents": true,
        "bindings": {
            "enter": "agent::Chat",
            "up": "agent::PreviousHistoryMessage",
            "down": "agent::NextHistoryMessage",
            "shift-ctrl-r": "agent::OpenAgentDiff",
            "ctrl-shift-y": "agent::KeepAll",
            "ctrl-shift-n": "agent::RejectAll"
        }
    },
    {
        "context": "ThreadHistory",
        "bindings": {
            "backspace": "agent::RemoveSelectedThread"
        }
    },
    {
        "context": "PromptLibrary",
        "bindings": {
            "new": "rules_library::NewRule",
            "ctrl-n": "rules_library::NewRule",
            "ctrl-shift-s": "rules_library::ToggleDefaultRule"
        }
    },
    {
        "context": "BufferSearchBar",
        "bindings": {
            "escape": "buffer_search::Dismiss",
            "tab": "buffer_search::FocusEditor",
            "enter": "search::SelectNextMatch",
            "shift-enter": "search::SelectPreviousMatch",
            "alt-enter": "search::SelectAllMatches",
            "find": "search::FocusSearch",
            "ctrl-f": "search::FocusSearch",
            "ctrl-h": "search::ToggleReplace",
            "ctrl-l": "search::ToggleSelection"
        }
    },
    {
        "context": "BufferSearchBar && in_replace > Editor",
        "bindings": {
            "enter": "search::ReplaceNext",
            "ctrl-enter": "search::ReplaceAll"
        }
    },
    {
        "context": "BufferSearchBar && !in_replace > Editor",
        "bindings": {
            "up": "search::PreviousHistoryQuery",
            "down": "search::NextHistoryQuery"
        }
    },
    {
        "context": "ProjectSearchBar",
        "bindings": {
            "escape": "project_search::ToggleFocus",
            "shift-find": "search::FocusSearch",
            "ctrl-shift-f": "search::FocusSearch",
            "ctrl-shift-h": "search::ToggleReplace",
            "alt-ctrl-g": "search::ToggleRegex",
            "alt-ctrl-x": "search::ToggleRegex"
        }
    },
    {
        "context": "ProjectSearchBar > Editor",
        "bindings": {
            "up": "search::PreviousHistoryQuery",
            "down": "search::NextHistoryQuery"
        }
    },
    {
        "context": "ProjectSearchBar && in_replace > Editor",
        "bindings": {
            "enter": "search::ReplaceNext",
            "ctrl-alt-enter": "search::ReplaceAll"
        }
    },
    {
        "context": "ProjectSearchView",
        "bindings": {
            "escape": "project_search::ToggleFocus",
            "ctrl-shift-h": "search::ToggleReplace",
            "alt-ctrl-g": "search::ToggleRegex",
            "alt-ctrl-x": "search::ToggleRegex"
        }
    },
    {
        "context": "Pane",
        "bindings": {
            "alt-1": ["pane::ActivateItem", 0],
            "alt-2": ["pane::ActivateItem", 1],
            "alt-3": ["pane::ActivateItem", 2],
            "alt-4": ["pane::ActivateItem", 3],
            "alt-5": ["pane::ActivateItem", 4],
            "alt-6": ["pane::ActivateItem", 5],
            "alt-7": ["pane::ActivateItem", 6],
            "alt-8": ["pane::ActivateItem", 7],
            "alt-9": ["pane::ActivateItem", 8],
            "alt-0": "pane::ActivateLastItem",
            "ctrl-pageup": "pane::ActivatePreviousItem",
            "ctrl-pagedown": "pane::ActivateNextItem",
            "ctrl-shift-pageup": "pane::SwapItemLeft",
            "ctrl-shift-pagedown": "pane::SwapItemRight",
            "ctrl-f4": ["pane::CloseActiveItem", { "close_pinned": false }],
            "ctrl-w": ["pane::CloseActiveItem", { "close_pinned": false }],
            "alt-ctrl-t": ["pane::CloseOtherItems", { "close_pinned": false }],
            "alt-ctrl-shift-w": "workspace::CloseInactiveTabsAndPanes",
            "ctrl-k e": [
                "pane::CloseItemsToTheLeft",
                { "close_pinned": false }
            ],
            "ctrl-k t": [
                "pane::CloseItemsToTheRight",
                { "close_pinned": false }
            ],
            "ctrl-k u": ["pane::CloseCleanItems", { "close_pinned": false }],
            "ctrl-k w": ["pane::CloseAllItems", { "close_pinned": false }],
            "ctrl-k ctrl-w": "workspace::CloseAllItemsAndPanes",
            "back": "pane::GoBack",

            "ctrl-alt--": "pane::GoBack",
            "ctrl-alt-_": "pane::GoForward",
            "forward": "pane::GoForward",

            "ctrl-alt-g": "search::SelectNextMatch",
            "f3": "search::SelectNextMatch",
            "ctrl-alt-shift-g": "search::SelectPreviousMatch",
            "shift-f3": "search::SelectPreviousMatch",
            "shift-find": "project_search::ToggleFocus",
            "ctrl-shift-f": "project_search::ToggleFocus",
            "ctrl-alt-shift-h": "search::ToggleReplace",
            "ctrl-alt-shift-l": "search::ToggleSelection",
            "alt-enter": "search::SelectAllMatches",
            "alt-c": "search::ToggleCaseSensitive",
            "alt-w": "search::ToggleWholeWord",
            "alt-find": "project_search::ToggleFilters",
            "alt-ctrl-f": "project_search::ToggleFilters",
            "ctrl-alt-shift-r": "search::ToggleRegex",
            "ctrl-alt-shift-x": "search::ToggleRegex",
            "alt-r": "search::ToggleRegex",
            "ctrl-k shift-enter": "pane::TogglePinTab"
        }
    },
    {
        "context": "Editor",
        "bindings": {
            "ctrl-[": "editor::Outdent",
            "ctrl-]": "editor::Indent",
            "shift-alt-up": "editor::AddSelectionAbove",
            "shift-alt-down": "editor::AddSelectionBelow", // 在下一行添加一个光标（多光标编辑），保留原有光标位置
            "ctrl-shift-k": "editor::DeleteLine",
            "alt-up": "editor::MoveLineUp", // 将当前行/选中行整体上移一行（保持相对缩进与选择）
            "alt-down": "editor::MoveLineDown", // 将当前行/选中行整体下移一行（保持相对缩进与选择）
            "ctrl-alt-shift-up": "editor::DuplicateLineUp", // 向上复制当前行/选中行（原位置保留，复制体插入其上方）
            "ctrl-alt-shift-down": "editor::DuplicateLineDown", // 向下复制当前行/选中行（原位置保留，复制体插入其下方）
            "alt-shift-right": "editor::SelectLargerSyntaxNode", // 语义扩选：按语法结构扩大选择范围（标识符→表达式→语句→块）
            "alt-shift-left": "editor::SelectSmallerSyntaxNode", // 语义收缩：按语法结构缩小选择范围（块→语句→表达式→标识符）
            "ctrl-shift-l": "editor::SelectAllMatches", // 选中当前选区在全文的所有匹配项（多光标批量编辑）
            "ctrl-f2": "editor::SelectAllMatches", // 选中光标所在单词在全文的所有匹配项（多光标批量编辑）
            "ctrl-d": ["editor::SelectNext", { "replace_newest": false }], // 将选择扩展到下一个匹配（保留现有选区，逐个向后多选）
            "ctrl-shift-down": [
                "editor::SelectNext",
                { "replace_newest": false }
            ], // 添加下一个匹配到选择（与 Ctrl+D 类似，用方向键组合触发）
            "ctrl-shift-up": [
                "editor::SelectPrevious",
                { "replace_newest": false }
            ], // 添加上一个匹配到选择（反向多选，逐步向前扩展）
            "ctrl-k ctrl-d": ["editor::SelectNext", { "replace_newest": true }], // 将“最新”选区跳到下一个匹配（跳过当前匹配，便于略过不需要的项）
            "ctrl-k ctrl-shift-d": [
                "editor::SelectPrevious",
                { "replace_newest": true }
            ], // 将“最新”选区跳到上一个匹配（反向跳过当前匹配）
            "ctrl-k ctrl-i": "editor::Hover", // 显示符号悬浮信息（类型/文档/注释等）
            "ctrl-k ctrl-b": "editor::BlameHover", // 显示 Git Blame 悬浮信息（提交作者、时间与摘要）
            "ctrl-/": [
                "editor::ToggleComments",
                { "advance_downwards": false }
            ], // 切换行注释（不自动向下推进到下一行）
            "f8": [
                "editor::GoToDiagnostic",
                { "severity": { "min": "hint", "max": "error" } }
            ], // 跳转到下一个诊断（范围：提示→错误），高亮相应位置
            "shift-f8": [
                "editor::GoToPreviousDiagnostic",
                { "severity": { "min": "hint", "max": "error" } }
            ], // 跳转到上一个诊断（范围：提示→错误），高亮相应位置
            "f2": "editor::Rename", // 重命名符号（变量/函数/类型等），按语言服务器规则更新引用
            "f12": "editor::GoToDefinition", // 跳转到定义（在当前编辑器中打开定义位置）
            "alt-f12": "editor::GoToDefinitionSplit", // 在分屏中打开定义（保留当前上下文，右侧查看定义）
            "ctrl-shift-f10": "editor::GoToDefinitionSplit", // 在分屏中打开定义（快捷备用组合）
            "ctrl-f12": "editor::GoToTypeDefinition", // 跳转到类型定义（如接口/类型声明处）
            "shift-f12": "editor::GoToImplementation", // 跳转到实现（如接口/抽象方法的具体实现）
            "alt-ctrl-f12": "editor::GoToTypeDefinitionSplit", // 在分屏中打开类型定义（并行对照查看）
            "alt-shift-f12": "editor::FindAllReferences", // 查找所有引用（在侧边/面板展示引用列表）
            "ctrl-m": "editor::MoveToEnclosingBracket", // 跳转到外层配对括号（来自 JetBrains 习惯，位于括号内时生效）
            "ctrl-|": "editor::MoveToEnclosingBracket", // 跳转到外层配对括号（备用快捷键）
            "ctrl-{": "editor::Fold", // 折叠当前代码块/选区（隐藏块内部细节）
            "ctrl-}": "editor::UnfoldLines", // 展开当前行/块（显示已折叠的内容）
            "ctrl-k ctrl-l": "editor::ToggleFold", // 切换当前代码块的折叠/展开状态
            "ctrl-k ctrl-[": "editor::FoldRecursive", // 递归折叠（当前块及其所有子块一起折叠）
            "ctrl-k ctrl-]": "editor::UnfoldRecursive", // 递归展开（当前块及其所有子块一起展开）
            "ctrl-k ctrl-1": ["editor::FoldAtLevel", 1], // 按层级折叠至第 1 层（更高层级全部折叠）
            "ctrl-k ctrl-2": ["editor::FoldAtLevel", 2], // 折叠至第 2 层（适合快速总览结构）
            "ctrl-k ctrl-3": ["editor::FoldAtLevel", 3], // 折叠至第 3 层
            "ctrl-k ctrl-4": ["editor::FoldAtLevel", 4], // 折叠至第 4 层
            "ctrl-k ctrl-5": ["editor::FoldAtLevel", 5], // 折叠至第 5 层
            "ctrl-k ctrl-6": ["editor::FoldAtLevel", 6], // 折叠至第 6 层
            "ctrl-k ctrl-7": ["editor::FoldAtLevel", 7], // 折叠至第 7 层
            "ctrl-k ctrl-8": ["editor::FoldAtLevel", 8], // 折叠至第 8 层
            "ctrl-k ctrl-9": ["editor::FoldAtLevel", 9], // 折叠至第 9 层
            "ctrl-k ctrl-0": "editor::FoldAll", // 折叠所有可折叠代码块
            "ctrl-k ctrl-j": "editor::UnfoldAll", // 展开所有已折叠代码块
            "ctrl-space": "editor::ShowCompletions", // 显示代码补全列表（触发智能感知/候选）
            "ctrl-shift-space": "editor::ShowWordCompletions", // 显示参数/词法类补全（有别于常规补全）
            "ctrl-.": "editor::ToggleCodeActions", // 显示可用代码操作（快速修复、重构、抑制警告等）
            "ctrl-k r": "editor::RevealInFileManager", // 在系统文件管理器定位当前文件
            "ctrl-\\": "pane::SplitRight", // 将当前编辑器向右分屏（横向分割出新的编辑区域）
            "ctrl-alt-shift-c": "editor::DisplayCursorNames", // 显示协作会话中各个光标的名称/标识
            "alt-.": "editor::GoToHunk", // 跳转到下一个差异区块（hunk），便于逐块审阅
            "alt-,": "editor::GoToPreviousHunk" // 跳转到上一个差异区块（hunk）
        }
    },
    {
        "context": "Editor && extension == md",
        "use_key_equivalents": true,
        "bindings": {
            "ctrl-k v": "markdown::OpenPreviewToTheSide", // 在侧边打开 Markdown 预览（分屏预览，编辑与预览并行）
            "ctrl-shift-v": "markdown::OpenPreview" // 在当前视图打开 Markdown 预览（在本编辑器区域显示）
        }
    },
    {
        "context": "Editor && extension == svg",
        "use_key_equivalents": true,
        "bindings": {
            "ctrl-k v": "svg::OpenPreviewToTheSide", // 在侧边打开 SVG 预览（分屏显示）
            "ctrl-shift-v": "svg::OpenPreview" // 在当前视图打开 SVG 预览（在本编辑器区域显示）
        }
    },
    {
        "context": "Editor && mode == full",
        "bindings": {
            "ctrl-shift-o": "outline::Toggle", // 切换大纲面板（查看符号/结构并支持快速跳转）
            "ctrl-g": "go_to_line::Toggle" // 跳转到指定行（输入行号快速定位）
        }
    },
    {
        "context": "Workspace",
        "bindings": {
            "alt-open": [
                // 打开“最近项目”选择器（不新建窗口）
                "projects::OpenRecent",
                { "create_new_window": false }
            ],
            "alt-ctrl-o": [
                // 打开“最近项目”选择器（不新建窗口，可在参数中改为新窗口）
                "projects::OpenRecent",
                { "create_new_window": false }
            ],
            "alt-shift-open": [
                // 打开“远程项目”选择器（新建连接且不新建窗口）
                "projects::OpenRemote",
                {
                    "from_existing_connection": false,
                    "create_new_window": false
                }
            ],
            "alt-ctrl-shift-o": [
                // 打开“远程项目”（不从现有连接，且不新建窗口）
                "projects::OpenRemote",
                {
                    "from_existing_connection": false,
                    "create_new_window": false
                }
            ],
            "alt-shift-enter": "toast::RunAction", // 对右下角提示气泡执行其推荐操作
            "ctrl-~": "workspace::NewTerminal", // 新建集成终端（在面板中）
            "save": "workspace::Save", // 保存当前活动文件
            "ctrl-s": "workspace::Save", // 保存当前活动文件
            "ctrl-k s": "workspace::SaveWithoutFormat", // 保存但跳过格式化（不触发格式化器）
            "shift-save": "workspace::SaveAs", // 另存为（选择新路径/文件名）
            "ctrl-shift-s": "workspace::SaveAs", // 另存为
            "new": "workspace::NewFile", // 新建未保存的缓冲区（新文件）
            "ctrl-n": "workspace::NewFile", // 新建文件
            "shift-new": "workspace::NewWindow", // 新建 Zed 窗口
            "ctrl-shift-n": "workspace::NewWindow", // 新建 Zed 窗口
            "ctrl-`": "terminal_panel::ToggleFocus", // 显示/隐藏终端面板并切换焦点
            "f10": ["app_menu::OpenApplicationMenu", "Zed"], // 打开应用菜单（Zed）

            "alt-1": ["workspace::ActivatePane", 0],
            "alt-2": ["workspace::ActivatePane", 1],
            "alt-3": ["workspace::ActivatePane", 2],
            "alt-4": ["workspace::ActivatePane", 3],
            "alt-5": ["workspace::ActivatePane", 4],
            "alt-6": ["workspace::ActivatePane", 5],
            "alt-7": ["workspace::ActivatePane", 6],
            "alt-8": ["workspace::ActivatePane", 7],
            "alt-9": ["workspace::ActivatePane", 8],

            "ctrl-b": "workspace::ToggleLeftDock", // 显示/隐藏左侧停靠面板
            "ctrl-shift-b": "workspace::ToggleRightDock", // 显示/隐藏右侧停靠面板
            "ctrl-alt-b": "workspace::ToggleBottomDock", // 显示/隐藏底部停靠面板

            "ctrl-alt-0": "workspace::ResetActiveDockSize", // 重置当前活动停靠面板的尺寸
            "ctrl-alt--": ["workspace::DecreaseActiveDockSize", { "px": 0 }], // 减小当前活动停靠面板尺寸（px=0 表示按 UI 字体大小步进）
            "ctrl-alt-=": ["workspace::IncreaseActiveDockSize", { "px": 0 }], // 增大当前活动停靠面板尺寸（px=0 表示按 UI 字体大小步进）
            "ctrl-alt-)": "workspace::ResetOpenDocksSize", // 重置所有已打开停靠面板的尺寸
            "ctrl-alt-_": ["workspace::DecreaseOpenDocksSize", { "px": 0 }], // 减小所有已打开停靠面板尺寸
            "ctrl-alt-+": ["workspace::IncreaseOpenDocksSize", { "px": 0 }], // 增大所有已打开停靠面板尺寸
            "shift-find": "pane::DeploySearch", // 打开项目搜索（在面板中）
            "ctrl-shift-f": "pane::DeploySearch", // 打开全局/项目搜索
            "ctrl-shift-h": ["pane::DeploySearch", { "replace_enabled": true }], // 打开搜索并启用替换功能
            "ctrl-shift-t": "pane::ReopenClosedItem", // 重新打开最近关闭的项/标签

            "ctrl-k ctrl-b": "zed::OpenKeymapEditor", // 打开键位绑定编辑器
            "ctrl-k ctrl-t": "theme_selector::Toggle", // 打开/切换主题选择器

            "ctrl-t": "project_symbols::Toggle", // 打开项目符号（按符号名跳转）
            "ctrl-p": "file_finder::Toggle", // 打开快速打开文件（文件查找器）
            "ctrl-tab": "tab_switcher::Toggle", // 打开标签切换器（在已打开项间快速切换）
            "ctrl-shift-tab": ["tab_switcher::Toggle", { "select_last": true }], // 打开标签切换器并选中最近访问的项
            "ctrl-e": "file_finder::Toggle", // 打开快速打开文件（备用键）
            "f1": "command_palette::Toggle", // 打开命令面板（搜索并执行命令）

            "ctrl-shift-p": "command_palette::Toggle",
            "alt-m": "diagnostics::Deploy",
            "alt-p": "project_panel::ToggleFocus",
            "alt-o": "outline_panel::ToggleFocus",
            "alt-g": "git_panel::ToggleFocus",
            "alt-d": "debug_panel::ToggleFocus",
            "alt+a": "agent::ToggleFocus",
            "alt-c": "collab_panel::ToggleFocus",
            "alt-f": "project_search::ToggleFocus",
            "alt-n": "notification_panel::ToggleFocus",

            "alt-save": "workspace::SaveAll",
            "ctrl-alt-s": "workspace::SaveAll",
            "ctrl-k m": "language_selector::Toggle",
            "escape": "workspace::Unfollow",
            "ctrl-k ctrl-left": "workspace::ActivatePaneLeft",
            "ctrl-k ctrl-right": "workspace::ActivatePaneRight",
            "ctrl-k ctrl-up": "workspace::ActivatePaneUp", // 激活上方相邻编辑面板
            "ctrl-k ctrl-down": "workspace::ActivatePaneDown", // 激活下方相邻编辑面板
            "ctrl-k shift-left": "workspace::SwapPaneLeft", // 将当前面板与左侧面板交换位置
            "ctrl-k shift-right": "workspace::SwapPaneRight", // 将当前面板与右侧面板交换位置
            "ctrl-k shift-up": "workspace::SwapPaneUp", // 将当前面板与上方面板交换位置
            "ctrl-k shift-down": "workspace::SwapPaneDown", // 将当前面板与下方面板交换位置
            "ctrl-shift-x": "zed::Extensions", // 打开扩展（扩展市场/管理）
            "ctrl-shift-r": "task::Rerun", // 重新运行最近的任务
            "ctrl-alt-r": "task::Rerun", // 重新运行最近的任务（备用键）
            "alt-t": "task::Rerun", // 重新运行最近的任务（备用键）
            "alt-shift-t": "task::Spawn", // 运行任务（可选择任务或按配置启动）
            "alt-shift-r": ["task::Spawn", { "reveal_target": "center" }], // 运行任务并在中心区域展示任务输出
            "f5": "debugger::Rerun", // 重新运行调试会话（非继续/开始）
            "ctrl-f4": "workspace::CloseActiveDock", // 关闭当前活动的停靠面板
            "ctrl-w": "workspace::CloseActiveDock" // 关闭当前活动的停靠面板（备用键）
        }
    },
    {
        "context": "Workspace && debugger_running",
        "bindings": {}
    },
    {
        "context": "Workspace && debugger_stopped",
        "bindings": {
            "f5": "debugger::Continue" // 调试暂停（stopped）时按 F5 继续运行到下一个断点或程序结束
        }
    },
    {
        "context": "ApplicationMenu",
        "bindings": {
            "f10": "menu::Cancel", // 关闭应用菜单（等同 Esc），从应用菜单层返回
            "left": "app_menu::ActivateMenuLeft", // 应用菜单间向左切换（跨菜单栏项移动）
            "right": "app_menu::ActivateMenuRight" // 应用菜单间向右切换（跨菜单栏项移动）
        }
    },
    {
        "context": "Editor",
        "bindings": {
            "ctrl-u": "editor::UndoSelection", // 撤销最近一次“选择”操作（不影响文本内容），常用于多选/多光标的回退
            "ctrl-shift-u": "editor::RedoSelection", // 重做被撤销的“选择”操作，恢复上一步的选择/多光标状态
            "ctrl-shift-j": "editor::JoinLines", // 合并选中多行或当前行与下一行：移除换行并智能衔接空格
            "ctrl-alt-backspace": "editor::DeleteToPreviousSubwordStart", // 删除到上一个“子词”起点（按驼峰/下划线等子词边界）
            "ctrl-alt-h": "editor::DeleteToPreviousSubwordStart", // 同上，删除到上一个“子词”起点（等价快捷，兼容 Sublime 习惯）
            "ctrl-alt-delete": "editor::DeleteToNextSubwordEnd", // 删除到下一个“子词”末尾（细粒度按子词边界向前删）
            "ctrl-alt-d": "editor::DeleteToNextSubwordEnd", // 同上，删除到下一个“子词”末尾（等价快捷）
            "ctrl-alt-left": "editor::MoveToPreviousSubwordStart", // 光标移动到上一个“子词”起点（更细粒度的词级导航）
            "ctrl-alt-right": "editor::MoveToNextSubwordEnd", // 光标移动到下一个“子词”末尾（更细粒度的词级导航）
            "ctrl-alt-shift-left": "editor::SelectToPreviousSubwordStart", // 向左按“子词”扩展选择（更精确地选中标识符片段）
            "ctrl-alt-shift-b": "editor::SelectToPreviousSubwordStart", // 同上，向左按“子词”扩展选择（等价快捷）
            "ctrl-alt-shift-right": "editor::SelectToNextSubwordEnd", // 向右按“子词”扩展选择（逐片段扩大选区）
            "ctrl-alt-shift-f": "editor::SelectToNextSubwordEnd" // 同上，向右按“子词”扩展选择（等价快捷）
        }
    },
    {
        "context": "Pane",
        "bindings": {
            "ctrl-k up": "pane::SplitUp", // 向“上方”分割当前编辑器，创建一个新面板并在其中打开当前项
            "ctrl-k down": "pane::SplitDown", // 向“下方”分割当前编辑器，创建一个新面板并在其中打开当前项
            "ctrl-k left": "pane::SplitLeft", // 向“左侧”分割当前编辑器，创建一个新面板并在其中打开当前项
            "ctrl-k right": "pane::SplitRight" // 向“右侧”分割当前编辑器，创建一个新面板并在其中打开当前项
        }
    },
    {
        "context": "Editor && renaming",
        "bindings": {
            "enter": "editor::ConfirmRename"
        }
    },
    {
        "context": "Editor && showing_completions",
        "bindings": {
            "enter": "editor::ConfirmCompletion", // 确认当前补全项并插入到光标处（保留其余上下文）
            "shift-enter": "editor::ConfirmCompletionReplace", // 用当前补全项替换现有选区/词（常用于覆盖当前单词）
            "tab": "editor::ComposeCompletion" // 以“组装”方式接受补全（按片段/占位符前进，便于逐段编辑）
        }
    },
    {
        "context": "Editor && edit_prediction",
        "bindings": {
            "alt-tab": "editor::AcceptEditPrediction", // 接受整条编辑预测（整体应用 AI 建议）
            "alt-l": "editor::AcceptEditPrediction", // 接受整条编辑预测（替代 alt-tab，避免与系统窗口切换冲突）
            "tab": "editor::AcceptEditPrediction", // 以 Tab 接受整条预测（与补全区分，针对编辑预测）
            "alt-right": "editor::AcceptPartialEditPrediction" // 仅接受预测的一部分（渐进式采纳 AI 建议）
        }
    },
    {
        "context": "Editor && edit_prediction_conflict",
        "bindings": {
            "alt-tab": "editor::AcceptEditPrediction", // 冲突状态下仍接受整条预测（以当前选择为准）
            "alt-l": "editor::AcceptEditPrediction", // 冲突状态下接受整条预测（替代 alt-tab）
            "alt-right": "editor::AcceptPartialEditPrediction" // 冲突状态下部分接受预测（按片段推进）
        }
    },
    {
        "context": "Editor && showing_code_actions",
        "bindings": {
            "enter": "editor::ConfirmCodeAction" // 在代码操作列表（快速修复/重构）中确认当前选项
        }
    },
    {
        "context": "Editor && (showing_code_actions || showing_completions)",
        "bindings": {
            "ctrl-p": "editor::ContextMenuPrevious", // 在上下文菜单/补全菜单中选择上一项（键盘导航）
            "up": "editor::ContextMenuPrevious", // 上移一项（与 Ctrl+P 等价）
            "ctrl-n": "editor::ContextMenuNext", // 在上下文菜单/补全菜单中选择下一项
            "down": "editor::ContextMenuNext", // 下移一项（与 Ctrl+N 等价）
            "pageup": "editor::ContextMenuFirst", // 跳转到第一项（快速定位列表起始）
            "pagedown": "editor::ContextMenuLast" // 跳转到最后一项（快速定位列表末尾）
        }
    },
    {
        "context": "Editor && showing_signature_help && !showing_completions",
        "bindings": {
            "up": "editor::SignatureHelpPrevious", // 函数签名帮助：查看上一个参数/重载提示
            "down": "editor::SignatureHelpNext" // 函数签名帮助：查看下一个参数/重载提示
        }
    },
    {
        "bindings": {
            "ctrl-alt-shift-f": "workspace::FollowNextCollaborator", // 协作：跟随下一个协作者的光标/视图（循环切换）
            "ctrl-alt-i": "dev::ToggleInspector" // 开发者工具：切换 UI 元素检查器（仅调试构建可用）
        }
    },
    {
        "context": "!ContextEditor > Editor && mode == full",
        "bindings": {
            "alt-enter": "editor::OpenExcerpts", // 将当前选区作为“摘录”在侧边打开（便于对照/批量查看）
            "shift-enter": "editor::ExpandExcerpts", // 扩展摘录范围（将相关上下文一并纳入）
            "ctrl-alt-enter": "editor::OpenExcerptsSplit", // 在分屏中打开摘录（并行编辑/查看）
            "ctrl-shift-e": "pane::RevealInProjectPanel", // 在项目面板定位当前文件（高亮并滚动到可见）
            "ctrl-f8": "editor::GoToHunk", // 跳到下一个差异区块（hunk），用于审阅变更
            "ctrl-shift-f8": "editor::GoToPreviousHunk", // 跳到上一个差异区块（hunk）
            "ctrl-enter": "assistant::InlineAssist", // 触发内联 AI 助手，基于上下文生成/补全代码
            "ctrl-:": "editor::ToggleInlayHints" // 切换 Inlay Hints（类型提示/参数名提示等内联信息）
        }
    },
    {
        "context": "PromptEditor",
        "bindings": {
            "ctrl-[": "agent::CyclePreviousInlineAssist", // 在内联助手建议间向前切换（上一条建议）
            "ctrl-]": "agent::CycleNextInlineAssist", // 在内联助手建议间向后切换（下一条建议）
            "ctrl-alt-e": "agent::RemoveAllContext" // 从助手上下文中移除所有已添加的文件/片段/资源
        }
    },
    {
        "context": "Prompt",
        "bindings": {
            "left": "menu::SelectPrevious",
            "right": "menu::SelectNext",
            "h": "menu::SelectPrevious",
            "l": "menu::SelectNext"
        }
    },
    {
        "context": "ProjectSearchBar && !in_replace",
        "bindings": {
            "ctrl-enter": "project_search::SearchInNew" // 在新结果视图中执行搜索（保留现有结果）
        }
    },
    {
        "context": "OutlinePanel && not_editing",
        "bindings": {
            "escape": "menu::Cancel",
            "left": "outline_panel::CollapseSelectedEntry",
            "right": "outline_panel::ExpandSelectedEntry", // 展开选中的大纲节点（显示子级）
            "alt-shift-copy": "workspace::CopyRelativePath", // 复制相对路径（相对工作区根目录）
            "alt-ctrl-shift-c": "workspace::CopyRelativePath", // 复制相对路径（等价备选）
            "alt-ctrl-r": "outline_panel::RevealInFileManager", // 在系统文件管理器中显示对应文件
            "space": "outline_panel::OpenSelectedEntry", // 打开当前大纲条目（跳转符号/位置）
            "shift-down": "menu::SelectNext", // 在列表中向下选择（按住 Shift 连续浏览）
            "shift-up": "menu::SelectPrevious", // 在列表中向上选择（按住 Shift 连续浏览）
            "alt-enter": "editor::OpenExcerpts", // 将所选大纲条目作为摘录打开（分离出上下文）
            "ctrl-alt-enter": "editor::OpenExcerptsSplit" // 在分屏中打开所选条目的摘录
        }
    },
    {
        "context": "ProjectPanel",
        "bindings": {
            "left": "project_panel::CollapseSelectedEntry",
            "right": "project_panel::ExpandSelectedEntry",

            "new": "project_panel::NewFile",
            "alt-new": "project_panel::NewDirectory",

            "ctrl-n": "project_panel::NewFile",
            "alt-ctrl-n": "project_panel::NewDirectory",

            "ctrl-c": "project_panel::Copy",
            "ctrl-x": "project_panel::Cut",
            "ctrl-v": "project_panel::Paste",

            "copy": "project_panel::Copy",
            "ctrl-insert": "project_panel::Copy",
            "cut": "project_panel::Cut",
            "paste": "project_panel::Paste",
            "shift-insert": "project_panel::Paste",

            "alt-shift-copy": "workspace::CopyRelativePath",
            "alt-ctrl-shift-c": "workspace::CopyRelativePath",
            "enter": "project_panel::Rename",
            "f2": "project_panel::Rename",

            "backspace": ["project_panel::Trash", { "skip_prompt": false }],
            "delete": ["project_panel::Trash", { "skip_prompt": false }],
            "shift-delete": ["project_panel::Delete", { "skip_prompt": false }],
            "ctrl-backspace": [
                "project_panel::Delete",
                { "skip_prompt": false }
            ],
            "ctrl-delete": ["project_panel::Delete", { "skip_prompt": false }],
            "alt-ctrl-r": "project_panel::RevealInFileManager",
            "ctrl-shift-enter": "project_panel::OpenWithSystem",
            "shift-find": "project_panel::NewSearchInDirectory",
            "ctrl-alt-shift-f": "project_panel::NewSearchInDirectory",
            "shift-down": "menu::SelectNext",
            "shift-up": "menu::SelectPrevious",
            "escape": "menu::Cancel"
        }
    },
    {
        "context": "ProjectPanel && not_editing",
        "bindings": {
            "space": "project_panel::Open" // 打开所选文件或进入所选目录
        }
    },
    {
        "context": "GitPanel && ChangesList",
        "bindings": {
            "up": "menu::SelectPrevious", // 变更列表中选择上一项（向上导航）
            "down": "menu::SelectNext", // 变更列表中选择下一项（向下导航）
            "enter": "menu::Confirm", // 打开所选更改的详情或进入相应视图
            "alt-y": "git::StageFile", // 暂存当前选中文件（添加到索引区）
            "alt-shift-y": "git::UnstageFile", // 取消暂存当前选中文件（从索引区移除）
            "ctrl-alt-y": "git::ToggleStaged", // 在暂存/未暂存之间切换所选文件状态
            "space": "git::ToggleStaged", // 空格快速切换暂存状态（文件级）
            "shift-space": "git::StageRange", // 暂存当前选中的变更范围（按区块/行粒度）
            "tab": "git_panel::FocusEditor", // 将焦点从列表切换到差异编辑器
            "shift-tab": "git_panel::FocusEditor", // 将焦点切回编辑器（与 Tab 互补）
            "escape": "git_panel::ToggleFocus", // 在列表与编辑器之间切换焦点（或退出面板焦点）
            "alt-enter": "menu::SecondaryConfirm", // 对选中的变更执行次要确认（如在新视图打开）
            "delete": ["git::RestoreFile", { "skip_prompt": false }], // 恢复文件到最后一次提交状态（带确认）
            "backspace": ["git::RestoreFile", { "skip_prompt": false }], // 恢复文件（等价快捷）
            "shift-delete": ["git::RestoreFile", { "skip_prompt": false }], // 恢复文件（Shift 变体）
            "ctrl-backspace": ["git::RestoreFile", { "skip_prompt": false }], // 恢复文件（Ctrl 变体）
            "ctrl-delete": ["git::RestoreFile", { "skip_prompt": false }] // 恢复文件（Ctrl+Delete 变体）
        }
    },
    {
        "context": "GitPanel && CommitEditor",
        "use_key_equivalents": true,
        "bindings": {
            "escape": "git::Cancel" // 取消提交编辑（退出 commit 文本框回到变更列表）
        }
    },
    {
        "context": "GitCommit > Editor",
        "bindings": {
            "escape": "menu::Cancel", // 退出提交信息编辑（关闭编辑模式/弹层）
            "enter": "editor::Newline", // 在提交信息中换行（撰写多行提交描述）
            "ctrl-enter": "git::Commit", // 提交变更（使用当前提交信息）
            "ctrl-shift-enter": "git::Amend", // 修订上一次提交（保留/修改提交信息）
            "alt-l": "git::GenerateCommitMessage" // 由 AI 生成提交信息草案（可再编辑）
        }
    },
    {
        "context": "GitPanel",
        "bindings": {
            "ctrl-g ctrl-g": "git::Fetch", // 从远端获取更新（不合并）
            "ctrl-g up": "git::Push", // 推送本地提交到远端
            "ctrl-g down": "git::Pull", // 拉取并合并远端更改
            "ctrl-g shift-up": "git::ForcePush", // 强制推送（覆盖远端，需谨慎）
            "ctrl-g d": "git::Diff", // 查看当前工作区与索引/HEAD 的差异
            "ctrl-g backspace": "git::RestoreTrackedFiles", // 恢复已跟踪文件的修改（丢弃变更）
            "ctrl-g shift-backspace": "git::TrashUntrackedFiles", // 删除未跟踪文件（移至回收站）
            "ctrl-space": "git::StageAll", // 暂存所有更改（添加到索引）
            "ctrl-shift-space": "git::UnstageAll", // 取消暂存所有更改（从索引移除）
            "ctrl-enter": "git::Commit", // 提交（在 Git 面板中直接提交）
            "ctrl-shift-enter": "git::Amend" // 修订上一次提交
        }
    },
    {
        "context": "GitDiff > Editor",
        "bindings": {
            "ctrl-enter": "git::Commit", // 在差异视图中执行提交（使用当前信息）
            "ctrl-shift-enter": "git::Amend", // 在差异视图中修订上一次提交
            "ctrl-space": "git::StageAll", // 暂存所有更改（差异视图）
            "ctrl-shift-space": "git::UnstageAll" // 取消暂存所有更改（差异视图）
        }
    },
    {
        "context": "AskPass > Editor",
        "bindings": {
            "enter": "menu::Confirm" // 确认凭证输入（AskPass 对话框：如用户名/密码/令牌）
        }
    },
    {
        "context": "CommitEditor > Editor",
        "bindings": {
            "escape": "git_panel::FocusChanges", // 从提交信息编辑切回“更改”列表
            "tab": "git_panel::FocusChanges", // 将焦点移动到“更改”列表
            "shift-tab": "git_panel::FocusChanges", // 焦点切回列表（与 Tab 互补）
            "enter": "editor::Newline", // 在提交信息中换行
            "ctrl-enter": "git::Commit", // 提交（从提交编辑器执行）
            "ctrl-shift-enter": "git::Amend", // 修订上一次提交（从提交编辑器）
            "alt-up": "git_panel::FocusChanges", // 将焦点上移到“更改”列表
            "alt-l": "git::GenerateCommitMessage" // 生成提交信息（可作为起草参考）
        }
    },
    {
        "context": "ChannelModal",
        "bindings": {
            "tab": "channel_modal::ToggleMode" // 切换频道的模式/选项（在不同模式间切换）
        }
    },
    {
        "context": "Picker > Editor",
        "bindings": {
            "escape": "menu::Cancel", // 取消并关闭选择器
            "up": "menu::SelectPrevious", // 在选择器中选中上一项
            "down": "menu::SelectNext", // 在选择器中选中下一项
            "tab": "picker::ConfirmCompletion", // 确认当前补全项并填充输入
            "alt-enter": ["picker::ConfirmInput", { "secondary": false }] // 以当前输入值确认（而非选中项），执行主操作
        }
    },
    {
        "context": "ChannelModal > Picker > Editor",
        "bindings": {
            "tab": "channel_modal::ToggleMode" // 在通道选择器中切换模式
        }
    },
    {
        "context": "FileFinder || (FileFinder > Picker > Editor)",
        "bindings": {
            "ctrl-p": "file_finder::Toggle", // 打开/切换“快速打开文件”查找器
            "ctrl-shift-a": "file_finder::ToggleSplitMenu", // 切换分屏打开菜单（选择在侧边/下方打开）
            "ctrl-shift-i": "file_finder::ToggleFilterMenu" // 切换过滤菜单（按类型/忽略规则等筛选）
        }
    },
    {
        "context": "FileFinder || (FileFinder > Picker > Editor) || (FileFinder > Picker > menu)",
        "bindings": {
            "ctrl-shift-p": "file_finder::SelectPrevious", // 在文件查找结果中选择上一项
            "ctrl-j": "pane::SplitDown", // 向下分割当前编辑器并在新面板中打开
            "ctrl-k": "pane::SplitUp", // 向上分割当前编辑器并在新面板中打开
            "ctrl-h": "pane::SplitLeft", // 向左分割当前编辑器并在新面板中打开
            "ctrl-l": "pane::SplitRight" // 向右分割当前编辑器并在新面板中打开
        }
    },
    {
        "context": "TabSwitcher",
        "bindings": {
            "ctrl-shift-tab": "menu::SelectPrevious",
            "ctrl-up": "menu::SelectPrevious",
            "ctrl-down": "menu::SelectNext",
            "ctrl-tab": "menu::SelectNext",
            "ctrl-backspace": "tab_switcher::CloseSelectedItem"
        }
    },
    {
        "context": "Terminal",
        "bindings": {
            "ctrl-alt-space": "terminal::ShowCharacterPalette", // 打开字符面板（插入特殊符号）
            "copy": "terminal::Copy", // 复制终端选中内容
            "ctrl-insert": "terminal::Copy", // 复制（兼容终端常用快捷）
            "ctrl-shift-c": "terminal::Copy", // 复制（终端常用组合，避免与 Ctrl+C 冲突）
            "paste": "terminal::Paste", // 粘贴剪贴板内容到终端
            "shift-insert": "terminal::Paste", // 粘贴（兼容组合）
            "ctrl-shift-v": "terminal::Paste", // 粘贴（终端常用组合）
            "ctrl-enter": "assistant::InlineAssist", // 在终端中触发内联 AI 助手
            "alt-b": ["terminal::SendText", "\u001bb"], // 发送 Alt+b（Readline：按词向后移动光标）
            "alt-f": ["terminal::SendText", "\u001bf"], // 发送 Alt+f（Readline：按词向前移动光标）
            "alt-.": ["terminal::SendText", "\u001b."], // 发送 Alt+.（上条命令的最后一个参数）
            "ctrl-delete": ["terminal::SendText", "\u001bd"], // 发送 Alt+d（从光标到词尾删除）
            "ctrl-b": ["terminal::SendKeystroke", "ctrl-b"], // 将 Ctrl+B 直接传递给终端（覆盖编辑器快捷）
            "ctrl-c": ["terminal::SendKeystroke", "ctrl-c"], // 将 Ctrl+C 直接传递给终端（中断进程）
            "ctrl-e": ["terminal::SendKeystroke", "ctrl-e"], // 将 Ctrl+E 传递给终端（行尾）
            "ctrl-o": ["terminal::SendKeystroke", "ctrl-o"], // 将 Ctrl+O 传递给终端
            "ctrl-w": ["terminal::SendKeystroke", "ctrl-w"], // 将 Ctrl+W 传递给终端（向后删词）
            "ctrl-backspace": ["terminal::SendKeystroke", "ctrl-w"], // 将 Ctrl+Backspace 映射为 Ctrl+W（删词）
            "ctrl-shift-a": "editor::SelectAll", // 在终端视图中全选所有输出
            "find": "buffer_search::Deploy", // 打开终端输出的搜索栏
            "ctrl-shift-f": "buffer_search::Deploy", // 打开终端搜索栏（备用组合）
            "ctrl-shift-l": "terminal::Clear", // 清屏（清空终端显示）
            "ctrl-shift-w": "pane::CloseActiveItem", // 关闭当前终端标签/项
            "up": ["terminal::SendKeystroke", "up"], // 将“上箭头”传递给终端（浏览历史命令）
            "pageup": ["terminal::SendKeystroke", "pageup"], // 传递 PageUp 给终端应用
            "down": ["terminal::SendKeystroke", "down"], // 将“下箭头”传递给终端
            "pagedown": ["terminal::SendKeystroke", "pagedown"], // 传递 PageDown 给终端应用
            "escape": ["terminal::SendKeystroke", "escape"], // 将 Esc 传递给终端（退出模式等）
            "enter": ["terminal::SendKeystroke", "enter"], // 将 Enter 传递给终端（执行命令）
            "shift-pageup": "terminal::ScrollPageUp", // 滚动终端视图上一页（不向应用发送键）
            "shift-pagedown": "terminal::ScrollPageDown", // 滚动终端视图下一页
            "shift-up": "terminal::ScrollLineUp", // 向上滚动一行
            "shift-down": "terminal::ScrollLineDown", // 向下滚动一行
            "shift-home": "terminal::ScrollToTop", // 滚动到顶部
            "shift-end": "terminal::ScrollToBottom", // 滚动到底部
            "ctrl-shift-space": "terminal::ToggleViMode", // 切换 Terminal 的 vi 模式（使用 vi 风格导航）
            "ctrl-shift-r": "terminal::RerunTask", // 重新运行绑定在该终端的任务
            "ctrl-alt-r": "terminal::RerunTask", // 重新运行任务（备用组合）
            "alt-t": "terminal::RerunTask" // 重新运行任务（备用组合）
        }
    },
    {
        "context": "ZedPredictModal",
        "bindings": {
            "escape": "menu::Cancel" // 关闭 Zed 预测相关弹窗
        }
    },
    {
        "context": "ConfigureContextServerModal > Editor",
        "bindings": {
            "escape": "menu::Cancel", // 取消并关闭上下文服务配置对话框
            "enter": "editor::Newline", // 在多行输入区域内换行
            "ctrl-enter": "menu::Confirm" // 确认保存上下文服务配置
        }
    },
    {
        "context": "OnboardingAiConfigurationModal",
        "use_key_equivalents": true,
        "bindings": {
            "escape": "menu::Cancel" // 取消 AI 配置向导的当前步骤
        }
    },
    {
        "context": "Diagnostics",
        "use_key_equivalents": true,
        "bindings": {
            "ctrl-r": "diagnostics::ToggleDiagnosticsRefresh" // 切换诊断面板的自动刷新（开/关）
        }
    },
    {
        "context": "DebugConsole > Editor",
        "use_key_equivalents": true,
        "bindings": {
            "enter": "menu::Confirm", // 在调试控制台中执行输入的表达式/命令
            "alt-enter": "console::WatchExpression" // 将输入添加为“监视表达式”
        }
    },
    {
        "context": "RunModal",
        "bindings": {
            "ctrl-tab": "pane::ActivateNextItem", // 在运行对话中切换到下一个项/视图
            "ctrl-shift-tab": "pane::ActivatePreviousItem" // 在运行对话中切换到上一个项/视图
        }
    },
    {
        "context": "MarkdownPreview",
        "bindings": {
            "pageup": "markdown::MovePageUp", // Markdown 预览向上翻页
            "pagedown": "markdown::MovePageDown" // Markdown 预览向下翻页
        }
    },
    {
        "context": "KeymapEditor",
        "use_key_equivalents": true,
        "bindings": {
            "ctrl-f": "search::FocusSearch", // 在键位编辑器中聚焦搜索框
            "alt-find": "keymap_editor::ToggleKeystrokeSearch", // 切换“按键序列搜索”模式
            "alt-ctrl-f": "keymap_editor::ToggleKeystrokeSearch", // 切换“按键序列搜索”模式（备用组合）
            "alt-c": "keymap_editor::ToggleConflictFilter", // 切换冲突过滤器（仅显示有冲突的键位）
            "enter": "keymap_editor::EditBinding", // 编辑当前选中的键位绑定
            "alt-enter": "keymap_editor::CreateBinding", // 创建新的键位绑定
            "ctrl-c": "keymap_editor::CopyAction", // 复制当前绑定的动作名
            "ctrl-shift-c": "keymap_editor::CopyContext", // 复制当前绑定的上下文表达式
            "ctrl-t": "keymap_editor::ShowMatchingKeybinds" // 显示与当前键序列匹配/冲突的绑定
        }
    },
    {
        "context": "KeystrokeInput",
        "use_key_equivalents": true,
        "bindings": {
            "enter": "keystroke_input::StartRecording", // 开始录制按键序列
            "escape escape escape": "keystroke_input::StopRecording", // 连按三次 Esc 停止录制
            "delete": "keystroke_input::ClearKeystrokes" // 清空已录制的按键
        }
    },
    {
        "context": "KeybindEditorModal",
        "use_key_equivalents": true,
        "bindings": {
            "ctrl-enter": "menu::Confirm", // 确认保存键位编辑
            "escape": "menu::Cancel" // 取消并关闭键位编辑对话框
        }
    },
    {
        "context": "KeybindEditorModal > Editor",
        "use_key_equivalents": true,
        "bindings": {
            "up": "menu::SelectPrevious", // 在键位编辑器的列表中上移选择
            "down": "menu::SelectNext" // 在键位编辑器的列表中下移选择
        }
    }
]
